(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){},196:function(e,t,a){},205:function(e,t,a){},226:function(e,t,a){},261:function(e,t,a){},278:function(e,t,a){e.exports=a(574)},574:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),o=a.n(l),s=(a(196),a(17)),c=a(18),i=a(20),m=a(19),u=a(21),d=a(33),p=a(188),h=a(70),g=a.n(h),f=Object(h.create)({baseURL:"/"}),E=(a(30),a(205),a(593)),y=a(584),v=a(586),b=a(590),w=a(10),S=a(133),C=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleLogin=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){var n={usernameOrEmail:t.username,password:t.password};e||f.post("api/auth/signin",n).then(function(e){!0===e.data.success?"firstLogin"===e.data.message?(localStorage.setItem("header",t.username),a.props.history.push("/first_login")):"Admin"===e.data.message?(localStorage.setItem("header",e.data.accessToken),a.props.history.push("/manage_employee")):(localStorage.setItem("header",e.data.accessToken),a.props.history.push("/")):(E.a.error(e.data.message),a.props.form.resetFields())}).catch(function(e){console.log(e),E.a.error(e)})})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"container"},r.a.createElement("center",null,r.a.createElement(y.a,{title:"VX HR Management System",bordered:!1,style:{width:"400px",height:"400px",flex:.5}},r.a.createElement(v.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:24},sm:{span:24}}},{className:"login-form"}),r.a.createElement("br",null),r.a.createElement(v.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your employee number!"}]})(r.a.createElement(b.a,{style:{width:"300px"},prefix:r.a.createElement(w.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Employee number"}))),r.a.createElement(v.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your password!"}]})(r.a.createElement(b.a.Password,{style:{width:"300px"},prefix:r.a.createElement(w.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a.Item,{wrapperCol:{xs:{span:16,offset:0},sm:{span:24,offset:0}}},r.a.createElement(S.a,{onClick:this.handleLogin,type:"primary",htmlType:"submit",className:"login-form-button"},r.a.createElement(w.a,{type:"check-circle"}),"Log in"),r.a.createElement(d.b,{className:"login-form-forgot",to:"/forgot"},"Forgot Password"),r.a.createElement("br",null))))))}}]),t}(r.a.Component),x=v.a.create({name:"normal_login"})(C),I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,button:"Send",email:null},a.changePassword=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){var n={email:a.state.email,currentPassword:t.code,newPassword:t.newPassword};e||f.post("api/auth/forgot_password",n).then(function(e){!0===e.data.success?(E.a.success(e.data.message),a.props.form.resetFields()):E.a.error(e.data.message)}).catch(function(e){console.log(e),E.a.error("Something went wrong")})})},a.setEmail=function(e){a.setState({email:e.target.value})},a.sendCode=function(){if(null!=a.state.email){a.setState({button:"Sending..."});var e={usernameOrEmail:a.state.email};f.post("api/auth/forgot",e).then(function(e){e.data.success?E.a.success(e.data.message):E.a.error(e.data.message),a.setState({button:"Send Again"})}).catch(function(e){E.a.error("Something went wrong"),a.setState({button:"Send Again"})})}},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("newPassword")?n("The two passwords you entered is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"container"},r.a.createElement("center",null,r.a.createElement(y.a,{title:"Forgot Password",bordered:!1,style:{width:"500px",height:"450px"}},r.a.createElement(v.a,{layout:"inline"},r.a.createElement(v.a.Item,null,r.a.createElement(b.a,{prefix:r.a.createElement(w.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Your Employee Number",style:{width:"300px"},onChange:this.setEmail,required:!0})),r.a.createElement(v.a.Item,null,r.a.createElement(S.a,{type:"primary",htmlType:"submit",onClick:this.sendCode,style:{width:"120px"}},this.state.button))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:16}},wrapperCol:{xs:{span:24},sm:{span:16}}},{layout:"vertical",style:{width:"650px"},hideRequiredMark:!0}),r.a.createElement(v.a.Item,null,e("code",{rules:[{required:!0,len:4,message:"Please input valid number!"}]})(r.a.createElement(b.a,{id:"1",prefix:r.a.createElement(w.a,{type:"key",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Confirm Code"}))),r.a.createElement(v.a.Item,{hasFeedback:!0},e("newPassword",{rules:[{required:!0,message:"Please input your new password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(b.a.Password,{id:"2",prefix:r.a.createElement(w.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"New Password"}))),r.a.createElement(v.a.Item,{hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your new password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(b.a.Password,{id:"3",onBlur:this.handleConfirmBlur,prefix:r.a.createElement(w.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Confirm Password"}))),r.a.createElement(v.a.Item,null,r.a.createElement(S.a,{onClick:this.changePassword,type:"primary",htmlType:"submit",className:"login-form-button"},"Reset Password"),r.a.createElement(d.b,{className:"login-form-forgot",to:"/login"},"Log in"),r.a.createElement("br",null))))))}}]),t}(r.a.Component),k=v.a.create({name:"register"})(I),D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1},a.changePassword=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){var n={email:localStorage.getItem("header"),newPassword:t.newPassword};e||f.post("api/auth/first_login_password",n).then(function(e){!0===e.data.success?(E.a.success(e.data.message),a.props.form.resetFields(),a.props.history.push("/login")):E.a.error(e.data.message)}).catch(function(e){console.log(e),E.a.error("Something went wrong!")})}),localStorage.removeItem("header")},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("newPassword")?n("The two passwords you entered is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){null===localStorage.getItem("header")&&this.props.history.push("/login")}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"container"},r.a.createElement("center",null,r.a.createElement(y.a,{title:"First Login",bordered:!1,style:{width:"400px",height:"350px",flex:.5}},r.a.createElement(v.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:24},sm:{span:24}}},{className:"login-form"}),r.a.createElement("br",null),r.a.createElement(v.a.Item,{hasFeedback:!0},e("newPassword",{rules:[{required:!0,message:"Please input your new password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(b.a.Password,{id:"2",prefix:r.a.createElement(w.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"New Password",maxLength:"20"}))),r.a.createElement(v.a.Item,{hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your new password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(b.a.Password,{id:"3",onBlur:this.handleConfirmBlur,prefix:r.a.createElement(w.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Confirm Password",maxLength:"20",autocomplete:"none",display:"none"}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a.Item,{wrapperCol:{xs:{span:16,offset:0},sm:{span:24,offset:0}}},r.a.createElement(S.a,{onClick:this.changePassword,type:"primary",htmlType:"submit",className:"login-form-button"},r.a.createElement(w.a,{type:"check-circle"}),"Change Password"),r.a.createElement("br",null))))))}}]),t}(r.a.Component),O=v.a.create({name:"first_login"})(D),_=(a(226),a(581)),j=a(576),R=a(238),P=a(26),A=a(577),z=a(345),T=a(352),N=a(575),F=a(582),L=a(595),q=a(588),B=a(578),M=a(35),Y=a.n(M),H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){a.setState({data:[],count:[],summery:[]}),null!==localStorage.getItem("header")&&(f.get("leave_count/summery/"+a.parseJwt(localStorage.getItem("header")),{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(a.setState({summery:e.data.list,sumRes:!0}),console.log("Summary",e.data.list)):E.a.error(e.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e)}),f.get("leave/find/"+a.parseJwt(localStorage.getItem("header")),{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?a.setState({data:e.data.list.reverse(),dataRes:!0}):E.a.error(e.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e)}),f.get("user/get/"+a.parseJwt(localStorage.getItem("header")),{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?a.setState({employee:e.data.employee,empRes:!0}):E.a.error(e.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)}))},a.state={data:[],leave:[],employee:[],summery:[],sumRes:!1,dataRes:!1,empRes:!1},a.showModal=function(e){a.setState({visible:!0,leave:e})},a.handleOk=function(e){console.log(e),a.setState({visible:!1})},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,l=t.selectedKeys,o=t.confirm,s=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(b.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(l,o)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(S.a,{type:"primary",onClick:function(){return a.handleSearch(l,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(S.a,{onClick:function(){return a.handleReset(s)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(w.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return a.searchInput.select()})},render:function(e){return r.a.createElement(Y.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"parseJwt",value:function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(a).sub}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.leave,l=t.employee,o=t.summery,s=t.sumRes,c=t.empRes,i=t.dataRes,m=[Object(P.a)({title:"Date of request",dataIndex:"requestDateTime"},this.getColumnSearchProps("requestDateTime")),{title:"Leave Type",dataIndex:"type"},{title:"Start Date",dataIndex:"startDate"},{title:"End Date",dataIndex:"endDate"},{title:"Number of days",dataIndex:"number_of_leave_days",align:"center"},Object(P.a)({title:"Status",dataIndex:"status"},this.getColumnSearchProps("status"),{render:function(e){var t;return t="Pending"===e?"geekblue":"Approved"===e?"green":"red",r.a.createElement(A.a,{style:{width:"70px"},color:t,key:e},e)}}),{dataIndex:"",key:"z",width:"1%",render:function(t){return r.a.createElement(w.a,{type:"info-circle",onClick:e.showModal.bind(e,t),theme:"twoTone"})}}];return r.a.createElement("div",null,s&&i&&c?r.a.createElement("div",null,r.a.createElement(y.a,{hoverable:"true"},r.a.createElement(z.a,{gutter:16},r.a.createElement("center",null,r.a.createElement(T.a,{span:6},r.a.createElement(N.a,{type:"circle",percent:this.state.summery[0].utilized/this.state.summery[0].entitlement*100,format:function(t){return"".concat(e.state.summery[0].utilized," / ").concat(e.state.summery[0].entitlement)}}),r.a.createElement("br",null),r.a.createElement(A.a,{color:"volcano",style:{width:"70px"}},"Casual")),r.a.createElement(T.a,{span:6},r.a.createElement(N.a,{type:"circle",percent:this.state.summery[1].utilized/this.state.summery[1].entitlement*100,format:function(t){return"".concat(e.state.summery[1].utilized," / ").concat(e.state.summery[1].entitlement)}}),r.a.createElement("br",null),r.a.createElement(A.a,{color:"volcano",style:{width:"70px"}},"Medical")),r.a.createElement(T.a,{span:6},r.a.createElement(N.a,{type:"circle",percent:this.state.summery[2].utilized/this.state.summery[2].entitlement*100,format:function(t){return"".concat(e.state.summery[2].utilized," / ").concat(e.state.summery[2].entitlement)}}),r.a.createElement("br",null),r.a.createElement(A.a,{color:"volcano",style:{width:"70px"}},"Annual")),r.a.createElement(T.a,{span:6},r.a.createElement(N.a,{type:"circle",percent:this.state.summery[3].utilized/this.state.summery[3].entitlement*100,format:function(t){return"".concat(e.state.summery[3].utilized," / ").concat(e.state.summery[3].entitlement)}}),r.a.createElement("br",null),r.a.createElement(A.a,{color:"volcano",style:{width:"70px"}},"Lieu"))))),r.a.createElement("br",null),r.a.createElement(z.a,{gutter:16},r.a.createElement(T.a,{span:9},r.a.createElement(y.a,{hoverable:"true"},r.a.createElement("h3",null,"Leave Summery"),r.a.createElement(F.a,{rowKey:function(e){return e.type},columns:[{title:"Type",key:"0",dataIndex:"type"},{title:"Entitlement",key:"1",dataIndex:"entitlement",align:"center"},{title:"Utilized",key:"2",dataIndex:"utilized",align:"center"},{title:"Remaining",key:"3",dataIndex:"remaining",align:"center"}],dataSource:o,size:"small",pagination:!1}))),r.a.createElement(T.a,{span:15},r.a.createElement(y.a,{hoverable:"true"},r.a.createElement("h3",null,"Employee Infomation"),0!==l.length?r.a.createElement(L.a,{size:"small",bordered:!0,column:2},r.a.createElement(L.a.Item,{label:"Emp Number"},l.userId),r.a.createElement(L.a.Item,{label:"NIC",span:1},l.nic),r.a.createElement(L.a.Item,{label:"Email"},l.email),r.a.createElement(L.a.Item,{label:"Contact No",span:1}," ",l.contact),r.a.createElement(L.a.Item,{label:"Date of Birth"},l.dob),r.a.createElement(L.a.Item,{label:"Religion",span:1},l.religion),r.a.createElement(L.a.Item,{label:"Residential Address",span:2},l.residence),r.a.createElement(L.a.Item,{label:"Permanent Address",span:2},l.permanent),r.a.createElement(L.a.Item,{label:"Supervisor 01"},l.supervisor1),r.a.createElement(L.a.Item,{label:"Supervisor 02",span:1},l.supervisor2),r.a.createElement(L.a.Item,{label:"Join Date"},l.joinDate),"Intern"===l.role?r.a.createElement(L.a.Item,{label:"End Date"},l.confirmDate):r.a.createElement(L.a.Item,{label:"Confirm Date"},l.confirmDate)):null))),r.a.createElement("br",null),r.a.createElement(y.a,{hoverable:"true"},r.a.createElement(F.a,{rowKey:function(e){return e.id},columns:m,dataSource:a,pagination:{pageSize:5},size:"middle"}))):r.a.createElement("div",{className:"example"},r.a.createElement(R.a,{size:"large"})),0!==n.length?r.a.createElement(q.a,{title:"Full Leave Record",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleOk,footer:null},"Approved"===n.status?r.a.createElement(B.a,{message:"Your request was approved",type:"success",style:{width:"460px"}}):"Pending"===n.status?r.a.createElement(B.a,{message:"Your request is still Pending",type:"info",style:{width:"460px"}}):r.a.createElement(B.a,{message:"Your request was rejected",type:"error",style:{width:"460px"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:8},"Date of Request: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},n.requestDateTime)),r.a.createElement(T.a,{span:8},"Leave Type: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},n.type)),r.a.createElement(T.a,{span:8},"Number Of Days:",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},n.number_of_leave_days))),r.a.createElement("br",null),.5!==n.number_of_leave_days?r.a.createElement(z.a,null,r.a.createElement(T.a,{span:6},"Start Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},n.startDate)),r.a.createElement(T.a,{span:6},"Full/ Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},n.startHalf)),r.a.createElement(T.a,{span:6},"End Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},n.endDate)),r.a.createElement(T.a,{span:6},"Full/ Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},n.endHalf))):r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Leave Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},n.startDate)),r.a.createElement(T.a,{span:12},"Leave Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},n.startHalf))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Checked By: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},n.checkBy)),r.a.createElement(T.a,{span:12},"Checked On: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},n.checkTime))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:24},"Duty Cover By: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"460px"}},n.duty))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:24},"Special Note: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"460px",whiteSpace:"normal"}},n.specialNotes))),r.a.createElement("br",null),"Rejected"===n.status?r.a.createElement("p",null,"Reason For Reject: ",r.a.createElement("br",null),r.a.createElement(A.a,{color:"volcano",style:{width:"460px",whiteSpace:"normal"}},n.reject)):null):null)}}]),t}(n.Component),V=v.a.create({name:"dashboard"})(H),W=a(43),U=a.n(W),K=a(60),J=(a(90),q.a.confirm),G=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={mounted:!1,searchText:"",data:[],visible:!1,leave:[],spinning:!1},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,l=t.selectedKeys,o=t.confirm,s=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(b.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(l,o)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(S.a,{type:"primary",onClick:function(){return a.handleSearch(l,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(S.a,{onClick:function(){return a.handleReset(s)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(w.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return a.searchInput.select()})},render:function(e){return r.a.createElement(Y.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.showModal=function(e){a.setState({visible:!0,leave:e})},a.handleOk=function(e){console.log(e),a.setState({visible:!1})},a.showConfirm=function(e){J({title:"Do you want to remove this request ?",content:"Make sure you can't delete pending leave request.",okText:"Remove",okType:"danger",onOk:function(){a.setState({spinning:!0}),f.get("leave/delete/"+e.id,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(E.a.success(e.data.message),a.reload(),a.setState({spinning:!1})):(E.a.error(e.data.message),a.setState({spinning:!1}))}).catch(function(e){console.log(e),E.a.error("Something Went Wrong"),a.setState({spinning:!1})})},onCancel:function(){}})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.reload()}},{key:"reload",value:function(){var e=Object(K.a)(U.a.mark(function e(){var t=this;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({data:[],mounted:!1}),e.next=3,f.get("leave/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?t.setState({data:e.data.list.reverse()}):E.a.error(e.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e)});case 3:this.setState({mounted:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.leave,n=t.spinning,l=[Object(P.a)({title:"Name",dataIndex:"user"},this.getColumnSearchProps("user")),Object(P.a)({title:"Date of request",dataIndex:"requestDateTime"},this.getColumnSearchProps("requestDateTime")),Object(P.a)({title:"Leave Type",dataIndex:"type"},this.getColumnSearchProps("type")),{title:"Start Date",dataIndex:"startDate"},Object(P.a)({title:"End Date",dataIndex:"endDate"},this.getColumnSearchProps("endDate")),{title:"Supervisor 01",dataIndex:"supervisor1"},Object(P.a)({title:"Checked By",dataIndex:"checkBy"},this.getColumnSearchProps("checkBy")),Object(P.a)({title:"Status",dataIndex:"status"},this.getColumnSearchProps("status"),{render:function(e){var t;return t="Pending"===e?"geekblue":"Approved"===e?"green":"red",r.a.createElement(A.a,{style:{width:"70px"},color:t,key:e},e)}}),{dataIndex:"",key:"z",width:"1%",render:function(t){return r.a.createElement(w.a,{type:"info-circle",onClick:e.showModal.bind(e,t)})}},{dataIndex:"",key:"y",width:"3%",render:function(t){return r.a.createElement(w.a,{type:"delete",onClick:e.showConfirm.bind(e,t),theme:"twoTone",twoToneColor:"#EE204D"})}}];return r.a.createElement("div",null,r.a.createElement(R.a,{tip:"Waiting...",spinning:n},this.state.mounted?r.a.createElement(y.a,{type:"inner",title:"All Leave Requests",hoverable:"true"},r.a.createElement(F.a,{rowKey:function(e){return e.id},columns:l,dataSource:this.state.data,pagination:{pageSize:10},size:"middle"})):r.a.createElement("div",{className:"example"},r.a.createElement(R.a,{size:"large"})),0!==a.length?r.a.createElement(q.a,{title:"Full Leave Record",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleOk,footer:null},"Approved"===a.status?r.a.createElement(B.a,{message:"Request was approved",type:"success",style:{width:"460px"}}):"Pending"===a.status?r.a.createElement(B.a,{message:"Request is still Pending",type:"info",style:{width:"460px"}}):r.a.createElement(B.a,{message:"Request was rejected",type:"error",style:{width:"460px"}}),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Name of employee: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.user)),r.a.createElement(T.a,{span:12},"Duty Cover By: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.duty))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:8},"Date of Request: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},a.requestDateTime)),r.a.createElement(T.a,{span:8},"Leave Type: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},a.type)),r.a.createElement(T.a,{span:8},"Number Of Days:",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},a.number_of_leave_days))),r.a.createElement("br",null),.5!==a.number_of_leave_days?r.a.createElement(z.a,null,r.a.createElement(T.a,{span:6},"Start Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},a.startDate)),r.a.createElement(T.a,{span:6},"Full/ Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},a.startHalf)),r.a.createElement(T.a,{span:6},"End Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},a.endDate)),r.a.createElement(T.a,{span:6},"Full/ Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},a.endHalf))):r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Leave Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.startDate)),r.a.createElement(T.a,{span:12},"Leave Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.startHalf))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Supervisor 01: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.supervisor1)),r.a.createElement(T.a,{span:12},"Supervisor 02: \xa0\xa0\xa0 \xa0\xa0\xa0 \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.supervisor2))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Checked By: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.checkBy)),r.a.createElement(T.a,{span:12},"Checked On: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.checkTime))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:24},"Special Note: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"460px",whiteSpace:"normal"}},a.specialNotes))),r.a.createElement("br",null),"Rejected"===a.status?r.a.createElement("p",null,"Reason For Reject: ",r.a.createElement("br",null),r.a.createElement(A.a,{color:"volcano",style:{width:"460px",whiteSpace:"normal"}},a.reject)):null):null))}}]),t}(n.Component),X=a(141),Z=a(14),$=a.n(Z),Q=a(186),ee=a(180),te=a(579),ae=a(583),ne=b.a.TextArea,re=Q.a.Option,le=q.a.confirm,oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={types:[],employees:[],summery:[],period:null,disable:!1,startValue:null,endValue:null,endOpen:!1,type:null,error:null,duty:null,start_half:"Full Day",end_half:"Full Day",start_full_disable:!1,start_morning_disable:!0,half_day:!1,start_day:null,end_day:null,saveDates:[],count:0,spinning:!1,disableSwitch:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||null!=a.state.error||le({title:"Sure to submit your leave request?",content:"If you submit, Send request to administrators and supervisors.",okText:"Submit",okType:"primary",onOk:function(){a.sendRequest(t)}})})},a.sendRequest=function(e){if(a.setState({spinning:!0}),null!==a.state.duty){var t={leave_type:{leave_type_id:a.state.type}||void 0,user:{id:a.parseJwt(localStorage.getItem("header"))}||void 0,startDate:a.state.startValue||a.state.endValue,end_date:a.state.endValue||a.state.startValue,startHalf:a.state.start_half,endHalf:a.state.end_half,number_of_leave_days:parseFloat(e.days)||void 0,duty:{id:parseInt(a.state.duty)},special_notes:e.note||"No special note.",status:"Pending",reject:"Not reject"};f.post("leave/request",t,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(a.handleCancel(),a.getLeaveSummary(),E.a.success(e.data.message),a.setState({spinning:!1})):(E.a.error(e.data.message),a.setState({spinning:!1}))}).catch(function(e){console.log(e.response.data.error),E.a.error("Something went wrong"),a.setState({spinning:!1})})}else{var n={leave_type:{leave_type_id:a.state.type}||void 0,user:{id:a.parseJwt(localStorage.getItem("header"))}||void 0,startDate:a.state.startValue||a.state.endValue,end_date:a.state.endValue||a.state.startValue,startHalf:a.state.start_half,endHalf:a.state.end_half,number_of_leave_days:parseFloat(e.days)||void 0,special_notes:e.note||"No special note",status:"Pending",reject:"Not reject"};f.post("leave/request",n,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(a.handleCancel(),a.getLeaveSummary(),E.a.success(e.data.message),a.setState({spinning:!1})):(E.a.error(e.data.message),a.setState({spinning:!1}))}).catch(function(e){console.log(e.response.data.error),E.a.error("Something went wrong"),a.setState({spinning:!1})})}},a.handleCancel=function(){a.props.form.resetFields(),a.setState({disable:!1,period:null,start_full_disable:!1,start_morning_disable:!0,start_half:"Full Day",end_half:"Full Day",error:null,count:0,start_day:null,end_day:null,startValue:null,endValue:null,disableSwitch:!1})},a.disabledStartDate=function(e){return 3===a.state.type&&(e&&e<$()().subtract(-14,"d"))},a.disabledEndDate=function(e){var t=a.state.start_day;return!(!e||!t)&&e.valueOf()<=t.valueOf()},a.onChange=function(e,t){a.setState(Object(X.a)({},e,t))},a.onStartChange=function(e,t){a.onChange("startValue",t),a.onChange("start_day",e)},a.onEndChange=function(e,t){var n=new Date(e),r=new Date(a.state.startValue),l=parseInt(n-r)/864e5,o=0;a.state.saveDates.map(function(e){var t=new Date(e.date);return r<=t&&t<=n&&o++,a.onChange("count",o),null}),a.onChange("endValue",t),a.onChange("end_day",e),a.state.half_day?a.onChange("start_half","Morning"):a.onChange("start_half","Full Day"),a.onChange("end_half","Full Day"),setTimeout(function(){if(null!==e&&null!==a.state.start_day)if(6===e._d.getDay())a.onChange("period",parseInt(l)),a.checkCount(parseInt(l));else if(0===a.state.start_day._d.getDay())a.onChange("period",parseInt(l)-a.state.count),a.checkCount(parseInt(l));else if(e._d.getDay()>a.state.start_day._d.getDay()&&parseInt(l)+1<=6)a.onChange("period",parseInt(l)+1-a.state.count),a.checkCount(parseInt(l)+1-a.state.count);else if(e._d.getDay()<a.state.start_day._d.getDay()&&parseInt(l)+1<=6)a.onChange("period",parseInt(l)+1-2-a.state.count),a.checkCount(parseInt(l)+1-2);else if(e._d.getMonth()!==a.state.start_day._d.getMonth())a.onChange("period",parseInt(l)+1-2-a.state.count),a.checkCount(parseInt(l)+1-2);else{var t=2*Math.floor((parseInt(l)+1)/7);a.onChange("period",parseInt(l)+1-t-a.state.count),a.checkCount(parseInt(l)+1-t-a.state.count)}a.onChange("count",0)},100)},a.setType=function(e){e.preventDefault(),a.handleCancel(),a.onChange("type",a.state.types[e.target.value].leave_type_id),3===a.state.types[e.target.value].leave_type_id&&a.onChange("disableSwitch",!0)},a.checkCount=function(e){e>100?a.onChange("error","* Select in range"):0===e?a.onChange("error","* Selected date is already holiday"):1===a.state.type&&e>a.state.summery[0].remaining?a.onChange("error","* Exceeded your casual limit"):2===a.state.type&&e>a.state.summery[1].remaining?a.onChange("error","* Exceeded your medical limit"):3===a.state.type?e>a.state.summery[2].remaining?a.onChange("error","* Exceeded your annual limit"):14!==a.state.summery[2].remaining&&7!==a.state.summery[2].remaining||7===e?10===a.state.summery[2].entitlement&&7!==e&&3!==e?a.onChange("error","* Should be taken 7 days or 3 days together"):4===a.state.summery[2].entitlement&&4!==e?a.onChange("error","* Should be taken all days together"):a.onChange("error",null):a.onChange("error","* Should be taken 7 days together"):4===a.state.type&&e>a.state.summery[3].remaining?a.onChange("error","* Exceeded your lieu limit"):a.onChange("error",null)},a.handleStartChange=function(e){e||a.state.disable||a.setState({endOpen:!0})},a.handleEndChange=function(e){a.setState({endOpen:e})},a.halfDay=function(e){a.onChange("half_day",e),a.setState({disable:!1,period:null,start_full_disable:!1,start_morning_disable:!0,start_half:"Full Day",end_half:"Full Day",error:null,count:0}),e?(a.setState({period:.5,disable:!0,endValue:a.state.startValue,start_full_disable:!0,start_morning_disable:!1,start_half:"Morning"}),a.checkCount(.5)):a.setState({period:null,disable:!1,error:null,start_full_disable:!1,start_morning_disable:!0,start_half:"Full Day"})},a.handleDuty=function(e){a.setState({duty:e})},a.startHalfChange=function(e){a.setState({start_half:e.target.value}),"Evening"!==e.target.value||a.state.half_day||null===a.state.period?"Full Day"===e.target.value&&null!==a.state.period&&(a.onChange("period",a.state.period+.5),a.checkCount(a.state.period+.5)):(a.onChange("period",a.state.period-.5),a.checkCount(a.state.period-.5))},a.endHalfChange=function(e){a.setState({end_half:e.target.value}),"Morning"===e.target.value&&null!==a.state.period?(a.onChange("period",a.state.period-.5),a.checkCount(a.state.period-.5)):"Full Day"===e.target.value&&null!==a.state.period&&(a.onChange("period",a.state.period+.5),a.checkCount(a.state.period+.5))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({employees:[],types:[],summery:[]}),this.getLeaveSummary(),null!==localStorage.getItem("header")&&(f.get("user/duty_cover",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({employees:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)}),f.get("leave_type/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({types:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)}),f.get("calender/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({saveDates:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)}))}},{key:"getLeaveSummary",value:function(){var e=this;f.get("leave_count/remaining/"+this.parseJwt(localStorage.getItem("header")),{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({summery:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"parseJwt",value:function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(a).sub}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.endOpen,n=t.summery,l=t.types,o=t.saveDates,s=t.spinning,c=t.disableSwitch;return r.a.createElement("div",null,r.a.createElement(R.a,{tip:"Sending...",spinning:s},r.a.createElement(z.a,{gutter:16},r.a.createElement(T.a,{span:13},r.a.createElement(y.a,{type:"inner",title:"Leave Request Form",bordered:!1,hoverable:"true"},r.a.createElement(v.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),r.a.createElement(v.a.Item,{label:"Leave Type"},e("leave_type",{rules:[{required:!0,message:"Please input leave type!"}]})(r.a.createElement(ee.a.Group,{name:"radiogroup",style:{width:"350px"},onChange:this.setType},l.map(function(e,t){return r.a.createElement(ee.a.Button,{key:e.leave_type_id,value:t},e.type)})))),r.a.createElement(v.a.Item,{label:"Half Day"},e("halfDay",{valuePropName:"checked"})(r.a.createElement(te.a,{disabled:c,checkedChildren:r.a.createElement(w.a,{type:"check"}),unCheckedChildren:r.a.createElement(w.a,{type:"close"}),onChange:this.halfDay}))),this.state.disable?r.a.createElement(v.a.Item,{label:"Leave date"},e("start_date",{rules:[{required:!0,message:"Please input Leave Date!"}]})(r.a.createElement(ae.a,{format:"YYYY-MM-DD",placeholder:"Pickup a Date",onChange:this.onEndChange,onOpenChange:this.handleEndChange,style:{width:"280px"}})),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement(ee.a.Group,{onChange:this.startHalfChange,value:this.state.start_half},r.a.createElement(ee.a,{value:"Morning",disabled:0===this.state.period||this.state.startValue===this.state.endValue},"Morning"),r.a.createElement(ee.a,{value:"Evening",disabled:0===this.state.period||this.state.startValue===this.state.endValue},"Afternoon"))):r.a.createElement("div",null,r.a.createElement(v.a.Item,{label:"Start date"},e("start_date",{rules:[{required:!0,message:"Please input Start Date!"}]})(r.a.createElement(ae.a,{disabledDate:this.disabledStartDate,format:"YYYY-MM-DD",placeholder:"Pickup a Date",onChange:this.onStartChange,onOpenChange:this.handleStartChange,style:{width:"280px"}})),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement(ee.a.Group,{onChange:this.startHalfChange,value:this.state.start_half},this.state.start_full_disable?null:r.a.createElement(ee.a,{value:"Full Day"},"Full Day"),this.state.start_morning_disable?null:r.a.createElement(ee.a,{value:"Morning"},"Morning"),r.a.createElement(ee.a,{value:"Evening",disabled:0===this.state.period||this.state.startValue===this.state.endValue},"Afternoon"))),r.a.createElement(v.a.Item,{label:"End date"},e("end_date",{rules:[{required:!0,message:"Please input End Date!"}]})(r.a.createElement(ae.a,{disabledDate:this.disabledEndDate,format:"YYYY-MM-DD",placeholder:"Pickup a Date",onChange:this.onEndChange,open:a,onOpenChange:this.handleEndChange,style:{width:"280px"}})),"\xa0\xa0\xa0\xa0\xa0",r.a.createElement(ee.a.Group,{onChange:this.endHalfChange,value:this.state.end_half},r.a.createElement(ee.a,{value:"Full Day"},"Full Day"),r.a.createElement(ee.a,{value:"Morning",disabled:0===this.state.period||this.state.startValue===this.state.endValue},"Morning")))),r.a.createElement(v.a.Item,{label:"Number of leave days"},e("days",{rules:[{required:!0,message:"Please input End Date to get count!"}],initialValue:this.state.period})(r.a.createElement(b.a,{style:{width:"50px"},disabled:!0})),r.a.createElement("span",{style:{color:"red"}},"\xa0\xa0 ",this.state.error)),0!==this.state.employees.length?r.a.createElement(v.a.Item,{label:"Duty Cover By"},e("duty",{initialValue:"No One"})(r.a.createElement(Q.a,{placeholder:"Please select a employee",onChange:this.handleDuty},this.state.employees.map(function(e){return r.a.createElement(re,{key:e.id},e.firstName," ",e.secondName)})))):null,r.a.createElement(v.a.Item,{label:"Special Notes"},e("note",{rules:[{message:"Please input your note"}]})(r.a.createElement(ne,{maxLength:"300",rows:4,style:{width:"400px"}}))),r.a.createElement(v.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(S.a,{type:"primary",htmlType:"submit",style:{width:"100px"}},r.a.createElement(w.a,{type:"check-circle"}),"Submit"),"\xa0\xa0\xa0\xa0",r.a.createElement(S.a,{type:"danger",onClick:this.handleCancel,style:{width:"100px"}},r.a.createElement(w.a,{type:"close-circle"}),"Cancel"))))),r.a.createElement(T.a,{span:11},r.a.createElement(z.a,null,r.a.createElement(T.a,{span:24},r.a.createElement(y.a,{hoverable:"true"},r.a.createElement("h4",null,"Leave Summary"),r.a.createElement(F.a,{rowKey:function(e){return e.type},columns:[{title:"Type",key:"0",dataIndex:"type"},{title:"Entitlement",key:"1",dataIndex:"entitlement",align:"center"},{title:"Approved",key:"2",dataIndex:"utilized",align:"center"},{title:"Pending",key:"3",dataIndex:"pending",align:"center"},{title:"Remaining",key:"4",dataIndex:"remaining",align:"center"}],dataSource:n,size:"small",pagination:!1})),r.a.createElement("br",null)),r.a.createElement(T.a,{span:24},r.a.createElement(y.a,{hoverable:"true"},r.a.createElement("h4",null,"Holidays"),r.a.createElement(F.a,{rowKey:function(e){return e.date},columns:[{title:"Date",key:"0",dataIndex:"date"},{title:"Event",key:"1",dataIndex:"reason"}],dataSource:o,size:"small",pagination:{pageSize:8}}))))))))}}]),t}(r.a.Component),se=v.a.create({name:"register"})(oe),ce=b.a.TextArea,ie=v.a.create({name:"pendingLeaves"})(function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,l=e.form.getFieldDecorator;return r.a.createElement(q.a,{visible:t,title:"Reject the request",okText:"Reject",onCancel:a,onOk:n},r.a.createElement(v.a,{layout:"vertical"},r.a.createElement(v.a.Item,{label:"Reason"},l("reason",{rules:[{required:!0,message:"Please input the reason for reject!"}]})(r.a.createElement(ce,{rows:4,maxLength:300,style:{width:"100%",height:"100px"}})))))}}]),t}(r.a.Component)),me=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={mounted:!1,visible:!1,searchText:"",data:[],reject:null,visibleAccept:!1,confirmLoading:!1,leave:[],count:[],countOfOne:[],employees:[],employee:[],spinning:!1},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,l=t.selectedKeys,o=t.confirm,s=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(b.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(l,o)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(S.a,{type:"primary",onClick:function(){return a.handleSearch(l,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(S.a,{onClick:function(){return a.handleReset(s)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(w.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return a.searchInput.select()})},render:function(e){return r.a.createElement(Y.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.show=function(e){a.state.count.map(function(t){return t.name===e.user?a.setState({countOfOne:t}):null}),a.state.employees.map(function(t){return t.firstName+" "+t.secondName===e.user?a.setState({employee:t}):null}),a.setState({leave:e,visibleAccept:!0})},a.handleOk=function(){a.setState({confirmLoading:!0}),setTimeout(function(){a.setState({visibleAccept:!1,confirmLoading:!1})},500),"Casual"===a.state.leave.type&&a.state.leave.number_of_leave_days>a.state.employee.casual-a.state.countOfOne.casual?E.a.error("Exceed casual limit"):"Medical"===a.state.leave.type&&a.state.leave.number_of_leave_days>a.state.employee.medical-a.state.countOfOne.medical?E.a.error("Exceed medical limit"):"Maternity"===a.state.leave.type&&a.state.leave.number_of_leave_days>84-a.state.countOfOne.maternity?E.a.error("Exceed maternity limit"):"Paternity"===a.state.leave.type&&a.state.leave.number_of_leave_days>3-a.state.countOfOne.paternity?E.a.error("Exceed paternity limit"):"Annual"===a.state.leave.type&&a.state.leave.number_of_leave_days>a.state.employee.annual-a.state.countOfOne.annual?E.a.error("Exceed annual limit"):(a.setState({spinning:!0}),f.get("leave/approve/"+a.state.leave.id,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(E.a.success(e.data.message),a.reload(),a.setState({spinning:!1})):(E.a.error(e.data.message),a.setState({spinning:!1}))}).catch(function(e){console.log(e.response.data.error),E.a.error("Something went wrong"),a.setState({spinning:!1})}))},a.showModal=function(e){a.setState({visible:!0,reject:e.id})},a.handleCancel=function(){a.formRef.props.form.resetFields(),a.setState({visible:!1,visibleAccept:!1})},a.handleReject=function(){var e=a.formRef.props.form;a.setState({spinning:!0}),e.validateFields(function(t,n){t||(f.post("leave/reject/"+a.state.reject,{reject:n.reason},{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?(E.a.success(t.data.message),e.resetFields(),a.reload(),a.setState({spinning:!1})):(E.a.error(t.data.message),a.setState({spinning:!1}))}).catch(function(e){console.log(e.response.data.error),E.a.error("Something went wrong"),a.setState({spinning:!1})}),a.setState({visible:!1}))})},a.saveFormRef=function(e){a.formRef=e},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.reload()}},{key:"reload",value:function(){var e=Object(K.a)(U.a.mark(function e(){var t=this;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({mounted:!1}),e.next=3,f.get("leave/pending",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?t.setState({data:e.data.list.reverse()}):E.a.error(e.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)});case 3:return e.next=5,f.get("leave_count/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?t.setState({count:e.data.list}):E.a.error(e.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)});case 5:return e.next=7,f.get("user/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?t.setState({employees:e.data.list}):E.a.error(e.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)});case 7:this.setState({mounted:!0});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.visibleAccept,n=t.confirmLoading,l=t.leave,o=t.spinning,s=[Object(P.a)({title:"Name",key:"0",dataIndex:"user"},this.getColumnSearchProps("user")),Object(P.a)({title:"Type",key:"1",dataIndex:"type"},this.getColumnSearchProps("type")),{title:"Start Date",key:"2",dataIndex:"startDate"},{title:"End Date",dataIndex:"endDate"},{title:"Number of days",dataIndex:"number_of_leave_days",align:"center"},{title:"Date of request",dataIndex:"requestDateTime"},{title:"Supervisor 01",dataIndex:"supervisor1"},{title:"Supervisor 02",dataIndex:"supervisor2"},{dataIndex:"",key:"b",width:"1%",render:function(t){return r.a.createElement(w.a,{type:"like",onClick:e.show.bind(e,t),theme:"twoTone",twoToneColor:"#81CF7F"})}},{dataIndex:"",key:"c",width:"1%",render:function(t){return r.a.createElement(w.a,{type:"dislike",onClick:e.showModal.bind(e,t),theme:"twoTone",twoToneColor:"red"})}}];return r.a.createElement("div",null,r.a.createElement(R.a,{tip:"Waiting...",spinning:o},this.state.mounted?r.a.createElement(y.a,{type:"inner",title:"Pending Leaves",hoverable:"true"},r.a.createElement(F.a,{rowKey:function(e){return e.id},columns:s,dataSource:this.state.data,pagination:{pageSize:10},size:"middle"})):r.a.createElement("div",{className:"example"},r.a.createElement(R.a,{size:"large"})),r.a.createElement(ie,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleReject}),0!==l.length?r.a.createElement(q.a,{title:"Accept the leave request.",visible:a,onOk:this.handleOk,confirmLoading:n,onCancel:this.handleCancel,okText:"Approve"},r.a.createElement("div",null,r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Name of employee: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},l.user)),r.a.createElement(T.a,{span:12},"Duty Cover By: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},l.duty))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:8},"Date of Request: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},l.requestDateTime)),r.a.createElement(T.a,{span:8},"Leave Type: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},l.type)),r.a.createElement(T.a,{span:8},"Number Of Days:",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},l.number_of_leave_days))),r.a.createElement("br",null),.5!==l.number_of_leave_days?r.a.createElement(z.a,null,r.a.createElement(T.a,{span:6},"Start Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},l.startDate)),r.a.createElement(T.a,{span:6},"Full/ Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},l.startHalf)),r.a.createElement(T.a,{span:6},"End Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},l.endDate)),r.a.createElement(T.a,{span:6},"Full/ Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},l.endHalf))):r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Leave Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},l.startDate)),r.a.createElement(T.a,{span:12},"Leave Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},l.startHalf))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Supervisor 01: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},l.supervisor1)),r.a.createElement(T.a,{span:12},"Supervisor 02: \xa0\xa0\xa0 \xa0\xa0\xa0 \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},l.supervisor2))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:24},"Special Note: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"460px",whiteSpace:"normal"}},l.specialNotes))),r.a.createElement("br",null))):null))}}]),t}(n.Component),ue=v.a.create({name:"pendingLeaves"})(me),de=a(591),pe=(a(127),a(187)),he=a(589),ge=a(585),fe=Q.a.Option;function Ee(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||E.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||E.a.error("Image must smaller than 2MB!"),t&&a}var ye=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={empId:null,data:[],supervisors:[],departments:[],roles:[],autoCompleteResult:[],join_date:void 0,confirm_date:void 0,role:void 0,department:void 0,imageUrl:null,dateOfBirth:null,religion:["Buddhist","Catholic","Hindu","Islam","None"],spinning:!1},a.handleSubmit=function(e){e.preventDefault(),a.setState({spinning:!0}),a.props.form.validateFieldsAndScroll(function(e,t){if(!e){var n={userId:t.emp_id,firstName:t.first_name,secondName:t.second_name,initials:t.initials||"No initials",gender:t.gender,email:t.email,residence:t.residence||"No residence",contact:t.contact,role:t.role||a.state.role,department:t.department||a.state.department,designation:t.designation,supervisor1:t.supervisor1||"No one",supervisor2:t.supervisor2||"No one",joinDate:a.state.join_date||a.state.data.joinDate,confirmDate:a.state.confirm_date||a.state.data.confirmDate||"Not confirm yet",annual:t.annual||0,casual:t.casual||0,medical:t.medical||0,image:a.state.imageUrl,permanent:t.permanent||"No permanent address",dateOfBirth:a.state.dateOfBirth,marriageStatus:t.marriage_status||"None",religion:t.religion,nic:t.nic};f.post("user/update/"+a.state.data.id,n,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(E.a.success(e.data.message),a.handleCancel(),a.setState({spinning:!1})):(E.a.error(e.data.message),a.setState({spinning:!1}))}).catch(function(e){E.a.error("Something Went Wrong!"),a.setState({spinning:!1})})}})},a.handleCancel=function(){a.props.close(),a.props.form.resetFields(),a.setState({data:[],role:null,department:null})},a.handleRoleChange=function(e){console.log(e),a.setState({role:e})},a.onChangeDOB=function(e,t){a.setState({dateOfBirth:t})},a.onChangeJoin=function(e,t){a.setState({join_date:t})},a.onChangeConfirm=function(e,t){console.log(t),a.setState({confirm_date:t})},a.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)}(e.file.originFileObj,function(e){return a.setState({imageUrl:e,loading:!1})}):a.setState({loading:!0})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.state.data.id!==this.props.update.id&&(console.log("------------------------------\x3e ",this.props.update.id," *** ",this.state.data.id),this.setState({data:this.props.update,imageUrl:this.props.update.image,role:this.props.update.role,department:this.props.update.department}))}},{key:"componentDidMount",value:function(){this.getSupervisors(),this.getDepartments(),this.getRoles()}},{key:"getSupervisors",value:function(){var e=this;f.get("user/supervisor",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({supervisors:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"getDepartments",value:function(){var e=this;f.get("department/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({departments:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"getRoles",value:function(){var e=this;f.get("role/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({roles:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.update,a={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},n=r.a.createElement("div",null,this.state.loading?r.a.createElement(w.a,{type:"loading"}):r.a.createElement(w.a,{type:"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload")),l=this.state,o=l.imageUrl,s=l.role,c=l.spinning;return r.a.createElement("div",{key:this.props.empId},r.a.createElement(R.a,{tip:"Creating New Employee...",spinning:c},r.a.createElement(y.a,{bordered:!1,style:{height:"1000px"}},r.a.createElement(v.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),r.a.createElement(v.a.Item,{label:"Employee ID"},e("emp_id",{rules:[{transform:function(e){return e.trim()}},{required:!0,message:"Please input employee id!"}],initialValue:this.state.data.userId})(r.a.createElement(b.a,{maxLength:5}))),r.a.createElement(v.a.Item,{label:"First Name"},e("first_name",{rules:[{transform:function(e){return e.trim()}},{required:!0,message:"Please input first name!"}],initialValue:this.state.data.firstName})(r.a.createElement(b.a,{maxLength:20}))),r.a.createElement(v.a.Item,{label:"Last Name"},e("second_name",{rules:[{transform:function(e){return e.trim()}},{required:!0,message:"Please input second name!"}],initialValue:this.state.data.secondName})(r.a.createElement(b.a,{maxLength:20}))),r.a.createElement(v.a.Item,{label:"Initials"},e("initials",{rules:[{transform:function(e){return e.trim()}},{required:!0,message:"Please input initials!"}],initialValue:this.state.data.initials})(r.a.createElement(b.a,{maxLength:10}))),r.a.createElement(v.a.Item,{label:"Gender"},e("gender",{initialValue:this.state.data.gender})(r.a.createElement(ee.a.Group,{name:"radiogroup"},r.a.createElement(ee.a,{value:"Male"},"Male"),r.a.createElement(ee.a,{value:"Female"},"Female")))),r.a.createElement(v.a.Item,{label:"Date of Birth"},e("dob",{rules:[{required:!0,message:"Please input date of birth!"}],initialValue:$()(t.dob,"YYYY-MM-DD")})(r.a.createElement(ae.a,{onChange:this.onChangeDOB,format:"YYYY-MM-DD"}))),r.a.createElement(v.a.Item,{label:"Religion"},e("religion",{rules:[{required:!0,message:"Please input religion!"}],initialValue:this.state.data.religion})(r.a.createElement(Q.a,null,this.state.religion.map(function(e){return r.a.createElement(fe,{key:e},e)})))),r.a.createElement(v.a.Item,{label:"Mariage Status"},e("marriage_status",{initialValue:this.state.data.marriageStatus})(r.a.createElement(ee.a.Group,{name:"radiogroup"},r.a.createElement(ee.a,{value:"Single"},"Single"),r.a.createElement(ee.a,{value:"Married"},"Married")))),r.a.createElement(v.a.Item,{label:"NIC"},e("nic",{rules:[{required:!0,message:"Please input NIC number!"},{transform:function(e){return e.trim()}}],initialValue:this.state.data.nic})(r.a.createElement(b.a,{maxLength:20}))),r.a.createElement(v.a.Item,{label:"E-mail"},e("email",{rules:[{transform:function(e){return e.trim()}},{type:"email",message:"Please input valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],initialValue:this.state.data.email})(r.a.createElement(b.a,{maxLength:50}))),r.a.createElement(v.a.Item,{label:r.a.createElement("span",null,"Residential Address\xa0",r.a.createElement(pe.a,{title:"No/ Street/ City."},r.a.createElement(w.a,{type:"question-circle-o"})))},e("residence",{rules:[{message:"Please input residential address!",whitespace:!0}],initialValue:this.state.data.residence})(r.a.createElement(b.a,{maxLength:100}))),r.a.createElement(v.a.Item,{label:r.a.createElement("span",null,"Permanent Address\xa0",r.a.createElement(pe.a,{title:"No/ Street/ City."},r.a.createElement(w.a,{type:"question-circle-o"})))},e("permanent",{rules:[{message:"Please input permanent address!",whitespace:!0}],initialValue:this.state.data.permanent})(r.a.createElement(b.a,{maxLength:100}))),r.a.createElement(v.a.Item,{label:"Contact Number"},e("contact",{rules:[{transform:function(e){return e.trim()}},{required:!0,message:"Please input valid number!",len:10}],initialValue:this.state.data.contact})(r.a.createElement(b.a,{style:{width:"100%"}}))),r.a.createElement(v.a.Item,{label:"Role"},e("role",{rules:[{required:!0,message:"Please input role!"}],initialValue:this.state.data.role})(r.a.createElement(Q.a,{onChange:this.handleRoleChange},this.state.roles.map(function(e){return r.a.createElement(fe,{key:e.name}," ",e.name)})))),r.a.createElement(v.a.Item,{label:"Department"},e("department",{rules:[{required:!0,message:"Please input your department!"}],initialValue:this.state.data.department})(r.a.createElement(Q.a,null,this.state.departments.map(function(e){return r.a.createElement(fe,{key:e.name},e.name)})))),r.a.createElement(v.a.Item,{label:"Designation"},e("designation",{rules:[{transform:function(e){return e.trim().replace(/\s+/g," ")}},{required:!0,message:"Please input designation!"},{pattern:new RegExp(/[a-zA-Z&( )]$/),message:"Field does not accept numbers"}],initialValue:this.state.data.designation})(r.a.createElement(b.a,{maxLength:50}))),r.a.createElement(v.a.Item,{label:"Supervisor 01"},e("supervisor1",{rules:[{required:!1,message:"Please input first supervisor!"}],initialValue:this.state.data.supervisor1})(r.a.createElement(Q.a,null,this.state.supervisors.map(function(e){return r.a.createElement(fe,{key:e.firstName},e.firstName," ",e.secondName)})))),r.a.createElement(v.a.Item,{label:"Supervisor 02"},e("supervisor2",{rules:[{message:"Please input second supervisor!"}],initialValue:this.state.data.supervisor2})(r.a.createElement(Q.a,null,this.state.supervisors.map(function(e){return r.a.createElement(fe,{key:e.firstName},e.firstName," ",e.secondName)})))),r.a.createElement(v.a.Item,{label:"Joined date"},r.a.createElement(ae.a,{onChange:this.onChangeJoin,format:"YYYY-MM-DD",defaultValue:$()(t.joinDate,"YYYY-MM-DD")})),"Probation"===s||"Intern"===s||"Contract"===s?r.a.createElement(v.a.Item,{label:"End date"},r.a.createElement(ae.a,{onChange:this.onChangeConfirm,format:"YYYY-MM-DD",defaultValue:$()(t.confirmDate,"YYYY-MM-DD")})):r.a.createElement(v.a.Item,{label:"Confirm date"},r.a.createElement(ae.a,{onChange:this.onChangeConfirm,format:"YYYY-MM-DD",defaultValue:$()(t.confirmDate,"YYYY-MM-DD")})),"Probation"===s||"Intern"===s||"Contract"===s?null:r.a.createElement(v.a.Item,{label:"Annual Count"},e("annual",{rules:[{required:!0,message:"Please input annual leave count!"}],initialValue:this.state.data.annual})(r.a.createElement(he.a,{min:0,max:14}))),r.a.createElement(v.a.Item,{label:"Casual Count"},e("casual",{rules:[{required:!0,message:"Please input casual leave count!"}],initialValue:this.state.data.casual})(r.a.createElement(he.a,{min:0,max:7}))),"Probation"===s||"Intern"===s||"Contract"===s?null:r.a.createElement(v.a.Item,{label:"Medical Count"},e("medical",{rules:[{required:!0,message:"Please input medical leave count!"}],initialValue:this.state.data.medical})(r.a.createElement(he.a,{min:0,max:7}))),r.a.createElement(v.a.Item,{label:"Employee Image"},e("image")(r.a.createElement(ge.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:Ee,onChange:this.handleChange},o?r.a.createElement("img",{src:o,alt:"avatar",style:{width:"100%"}}):n))),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"red",paddingLeft:"40px"}},"Please check every fields before update"),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:17},r.a.createElement(v.a.Item,a,r.a.createElement(S.a,{type:"primary",htmlType:"submit",style:{width:"100px",float:"right"}},r.a.createElement(w.a,{type:"check-circle"}),"Update"))),r.a.createElement(T.a,{span:7},r.a.createElement(v.a.Item,a,r.a.createElement(S.a,{type:"danger",onClick:this.handleCancel,style:{width:"100px",float:"left"}},r.a.createElement(w.a,{type:"close-circle"}),"Cancel"))))))))}}]),t}(r.a.Component),ve=v.a.create({name:"register"})(ye),be=Q.a.Option;function we(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||E.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||E.a.error("Image must smaller than 2MB!"),t&&a}var Se=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={supervisors:[],departments:[],roles:[],join_date:null,confirm_date:null,loading:!1,dateOfBirth:null,selectedRole:null,religion:["Buddhist","Catholic","Hindu","Islam","None"],spinning:!1},a.handleSubmit=function(e){e.preventDefault(),a.setState({spinning:!0}),a.props.form.validateFieldsAndScroll(function(e,t){if(!e){var n={userId:t.emp_id,firstName:t.first_name||void 0,secondName:t.second_name||void 0,initials:t.initials||"No initials",gender:t.gender||void 0,dateOfBirth:a.state.dateOfBirth,religion:t.religion,marriageStatus:t.marriage_status||"None",nic:t.nic,email:t.email||void 0,residence:t.residence||"No residential address",permanent:t.permanent||"No permanent address",contact:t.contact||void 0,role:parseInt(t.role)||void 0,department:parseInt(t.department)||void 0,designation:t.designation,supervisor1:t.supervisor1||"No one",supervisor2:t.supervisor2||"No one",joinDate:a.state.join_date||void 0,confirmDate:a.state.confirm_date||"Not confirm yet",annual:t.annual||0,casual:t.casual||0,medical:t.medical||0,image:a.state.imageUrl};f.post("api/auth/signup",n,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(console.log("res",e.data),E.a.success(e.data.message),a.props.form.resetFields(),a.props.close(),a.setState({spinning:!1})):(E.a.error(e.data.message),a.setState({spinning:!1}))}).catch(function(e){E.a.error("Something Went Wrong!"),a.setState({spinning:!1})})}})},a.onChangeDOB=function(e,t){console.log(t),a.setState({dateOfBirth:t})},a.handleRoleChange=function(e){console.log(e),a.setState({selectedRole:e})},a.onChangeJoin=function(e,t){console.log(t),a.setState({join_date:t})},a.onChangeConfirm=function(e,t){console.log(t),a.setState({confirm_date:t})},a.handleCancel=function(){a.props.form.resetFields(),a.props.close()},a.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)}(e.file.originFileObj,function(e){return a.setState({imageUrl:e,loading:!1})}):a.setState({loading:!0})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({supervisors:[],departments:[],roles:[]}),f.get("user/supervisor",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({supervisors:t.data.list}):E.a.error(t.data.message)}).catch(function(e){console.log(e.response.data.error)}),f.get("department/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({departments:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)}),f.get("role/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({roles:t.data.list}):E.a.error(t.data.message)}).catch(function(e){console.log(e.response.data.error)})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},a=r.a.createElement("div",null,this.state.loading?r.a.createElement(w.a,{type:"loading"}):r.a.createElement(w.a,{type:"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload")),n=this.state,l=n.imageUrl,o=n.selectedRole,s=n.spinning;return r.a.createElement("div",null,r.a.createElement(R.a,{tip:"Creating New Employee...",spinning:s},r.a.createElement(y.a,{bordered:!1,style:{height:"1000px"}},r.a.createElement(v.a,{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},r.a.createElement(v.a.Item,{label:"Employee ID"},e("emp_id",{rules:[{transform:function(e){return e.trim()}},{required:!0,message:"Please input employee id!"}]})(r.a.createElement(b.a,{maxLength:5}))),r.a.createElement(v.a.Item,{label:"First Name"},e("first_name",{rules:[{transform:function(e){return e.trim()}},{required:!0,message:"Please input first name!"}]})(r.a.createElement(b.a,{maxLength:20}))),r.a.createElement(v.a.Item,{label:"Last Name"},e("second_name",{rules:[{transform:function(e){return e.trim()}},{required:!0,message:"Please input second name!"}]})(r.a.createElement(b.a,{maxLength:20}))),r.a.createElement(v.a.Item,{label:"Initials"},e("initials",{rules:[{transform:function(e){return e.trim()}}]})(r.a.createElement(b.a,{maxLength:10}))),r.a.createElement(v.a.Item,{label:"Gender"},e("gender")(r.a.createElement(ee.a.Group,{name:"radiogroup"},r.a.createElement(ee.a,{value:"Male"},"Male"),r.a.createElement(ee.a,{value:"Female"},"Female")))),r.a.createElement(v.a.Item,{label:"Date of Birth"},e("dob",{rules:[{required:!0,message:"Please input date of birth!"}]})(r.a.createElement(ae.a,{onChange:this.onChangeDOB,format:"YYYY-MM-DD"}))),r.a.createElement(v.a.Item,{label:"Religion"},e("religion",{rules:[{required:!0,message:"Please input religion!"}]})(r.a.createElement(Q.a,{placeholder:"Please select a religion"},this.state.religion.map(function(e){return r.a.createElement(be,{key:e},e)})))),r.a.createElement(v.a.Item,{label:"Marriage Status"},e("marriage_status")(r.a.createElement(ee.a.Group,{name:"radiogroup"},r.a.createElement(ee.a,{value:"Single"},"Single"),r.a.createElement(ee.a,{value:"Married"},"Married")))),r.a.createElement(v.a.Item,{label:"NIC"},e("nic",{rules:[{transform:function(e){return e.trim()}},{required:!0,message:"Please input NIC number!"}]})(r.a.createElement(b.a,{maxLength:20}))),r.a.createElement(v.a.Item,{label:"E-mail"},e("email",{rules:[{transform:function(e){return e.trim()}},{type:"email",message:"Please input valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(b.a,{maxLength:50}))),r.a.createElement(v.a.Item,{label:r.a.createElement("span",null,"Residential Address\xa0",r.a.createElement(pe.a,{title:"No, Street, City."},r.a.createElement(w.a,{type:"question-circle-o"})))},e("residence",{rules:[{message:"Please input residential address!",whitespace:!0}]})(r.a.createElement(b.a,{maxLength:65}))),r.a.createElement(v.a.Item,{label:r.a.createElement("span",null,"Permanent Address\xa0",r.a.createElement(pe.a,{title:"No, Street, City."},r.a.createElement(w.a,{type:"question-circle-o"})))},e("permanent",{rules:[{message:"Please input permanent address!",whitespace:!0}]})(r.a.createElement(b.a,{maxLength:65}))),r.a.createElement(v.a.Item,{label:"Contact Number"},e("contact",{rules:[{transform:function(e){return e.trim()}},{required:!0,len:10,message:"Please input valid number!"}]})(r.a.createElement(b.a,{style:{width:"100%"},placeholder:"ex: 0712345678"}))),r.a.createElement(v.a.Item,{label:"Role"},e("role",{rules:[{required:!0,message:"Please input employee role!"}]})(r.a.createElement(Q.a,{placeholder:"Please select a role",onChange:this.handleRoleChange},this.state.roles.map(function(e){return r.a.createElement(be,{key:e.id},e.name)})))),r.a.createElement(v.a.Item,{label:"Department"},e("department",{rules:[{required:!0,message:"Please input employee department!"}]})(r.a.createElement(Q.a,{placeholder:"Please select a department"},this.state.departments.map(function(e){return r.a.createElement(be,{key:e.id},e.name)})))),r.a.createElement(v.a.Item,{label:"Designation"},e("designation",{rules:[{transform:function(e){return e.trim().replace(/\s+/g," ")}},{required:!0,message:"Please input designation!"},{pattern:new RegExp(/[a-zA-Z&( )]$/),message:"Field does not accept numbers"}]})(r.a.createElement(b.a,{type:"char",maxLength:50}))),r.a.createElement(v.a.Item,{label:"Supervisor 01"},e("supervisor1",{rules:[{required:!1,message:"Please input first supervisor!"}]})(r.a.createElement(Q.a,{placeholder:"Please select a supervisor"},this.state.supervisors.map(function(e){return r.a.createElement(be,{key:e.firstName},e.firstName," ",e.secondName)})))),r.a.createElement(v.a.Item,{label:"Supervisor 02"},e("supervisor2",{rules:[{required:!1,message:"Please input second supervisor!"}]})(r.a.createElement(Q.a,{placeholder:"Please select a supervisor"},this.state.supervisors.map(function(e){return r.a.createElement(be,{key:e.firstName},e.firstName," ",e.secondName)})))),r.a.createElement(v.a.Item,{label:"Joined date"},e("join",{rules:[{required:!0,message:"Please input employee joining date!"}]})(r.a.createElement(ae.a,{onChange:this.onChangeJoin,format:"YYYY-MM-DD"}))),"3"===o||"4"===o||"5"===o?r.a.createElement(v.a.Item,{label:"End date"},e("confirm",{rules:[{required:!0,message:"Please input employee end date!"}]})(r.a.createElement(ae.a,{onChange:this.onChangeConfirm,format:"YYYY-MM-DD"}))):r.a.createElement(v.a.Item,{label:"Confirm date"},e("confirm",{rules:[{required:!0,message:"Please input employee confirm date!"}]})(r.a.createElement(ae.a,{onChange:this.onChangeConfirm,format:"YYYY-MM-DD"}))),"3"===o||"4"===o||"5"===o?null:r.a.createElement(v.a.Item,{label:"Annual Count"},e("annual",{rules:[{required:!0,message:"Please input annual leave count!"}]})(r.a.createElement(he.a,{min:0,max:14}))),r.a.createElement(v.a.Item,{label:"Casual Count"},e("casual",{rules:[{required:!0,message:"Please input casual leave count!"}]})(r.a.createElement(he.a,{min:0,max:7}))),"3"===o||"4"===o||"5"===o?null:r.a.createElement(v.a.Item,{label:"Medical Count"},e("medical",{rules:[{required:!0,message:"Please input medical leave count!"}]})(r.a.createElement(he.a,{min:0,max:7}))),r.a.createElement(v.a.Item,{label:"Employee Image"},e("image")(r.a.createElement(ge.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:we,onChange:this.handleChange},l?r.a.createElement("img",{src:l,alt:"avatar",style:{width:"100%"}}):a))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:17},r.a.createElement(v.a.Item,t,r.a.createElement(S.a,{type:"primary",htmlType:"submit",onClick:this.handleSubmit,style:{width:"100px",float:"right"}},r.a.createElement(w.a,{type:"check-circle"}),"Submit"))),r.a.createElement(T.a,{span:7},r.a.createElement(v.a.Item,t,r.a.createElement(S.a,{type:"danger",onClick:this.handleCancel,style:{width:"100px",float:"left"}},r.a.createElement(w.a,{type:"close-circle"}),"Cancel"))))))))}}]),t}(r.a.Component),Ce=v.a.create({name:"register"})(Se),xe=Q.a.Option,Ie=v.a.create({name:"viewEmployee"})(function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,l=e.form,o=e.onChangeResignDate,s=l.getFieldDecorator;return r.a.createElement(q.a,{visible:t,title:"Resign the employee",okText:"Resign",onCancel:a,onOk:n},r.a.createElement(v.a,{layout:"vertical"},r.a.createElement(v.a.Item,{label:"Resign Date"},s("date",{rules:[{required:!0,message:"Please input the resign date!"}]})(r.a.createElement(ae.a,{onChange:o,format:"YYYY-MM-DD"})))))}}]),t}(r.a.Component));var ke=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={dataReceived:!1,searchText:"",data:[],visibleUpdate:!1,visibleAdd:!1,emp_id:void 0,updateEmployee:[],emp:[],visible:!1,visibleResign:!1,empId:null,departments:[],resignDate:null},a.onDepartmentSelect=function(e){"0"===e?a.reload():(a.setState({data:[],dataReceived:!1}),f.get("user/filter_by_department/".concat(e),{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?a.setState({data:e.data.list,dataReceived:!0}):(E.a.error(e.data.message),a.setState({dataReceived:!0}))}).catch(function(e){E.a.error("Something went wrong"),console.log(e),a.setState({dataReceived:!0})}))},a.info=function(e){a.setState({visible:!0,emp:e})},a.handleOk=function(e){console.log(e),a.setState({visible:!1})},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,l=t.selectedKeys,o=t.confirm,s=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(b.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(l,o)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(S.a,{type:"primary",onClick:function(){return a.handleSearch(l,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(S.a,{onClick:function(){return a.handleReset(s)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(w.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return a.searchInput.select()})},render:function(e){return r.a.createElement(Y.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.showAddDrawer=function(){a.setState({visibleAdd:!0})},a.onAddClose=function(){a.setState({visibleAdd:!1}),a.reload()},a.showUpdateDrawer=function(e){a.setState({updateEmployee:[]}),f.get("user/get/"+e.id,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(a.setState({updateEmployee:e.data.employee,visibleUpdate:!0}),console.log("Update response",e.data.employee)):E.a.error(e.data.message)}).catch(function(e){E.a.error("Something went wrong")})},a.onUpdateClose=function(){console.log("Update close"),a.setState({updateEmployee:[],visibleUpdate:!1}),a.reload()},a.showModal=function(e){a.setState({visibleResign:!0,emp_id:e.id})},a.saveFormRef=function(e){a.formRef=e},a.onChangeResignDate=function(e,t){a.setState({resignDate:t})},a.handleResign=function(){var e=a.formRef.props.form;e.validateFields(function(t,n){t||(f.post("user/resign",{id:a.state.emp_id,resignDate:a.state.resignDate},{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?(E.a.success(t.data.message),e.resetFields(),a.reload()):E.a.error(t.data.message)}).catch(function(e){E.a.error(e.response.data.error)}),a.setState({visibleResign:!1}))})},a.handleCancel=function(){a.formRef.props.form.resetFields(),a.setState({visibleResign:!1})},a.download=function(e){if(0===a.state.data.length)E.a.error("No data to download");else{var t,n,r,l=function(e){var t,a,n,r,l,o;return null!=(o=e.data||null)&&o.length?(r=e.columnDelimiter||",",l=e.lineDelimiter||"\n",n=Object.keys(o[0]),t="",t+=n.join(r),t+=l,o.forEach(function(e){a=0,n.forEach(function(n){a>0&&(t+=r),t+=e[n],a++}),t+=l}),t):null}({data:a.state.data});if(null==l)return;n=e.filename||"employees.csv",l.match(/^data:text\/csv/i)||(l="data:text/csv;charset=utf-8,"+l),t=encodeURI(l),(r=document.createElement("a")).setAttribute("href",t),r.setAttribute("download",n),r.click()}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.reload(),f.get("department/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){if(!0===t.data.success){var a=[{id:0,name:"All"}].concat(t.data.list);e.setState({departments:a})}else E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e)})}},{key:"reload",value:function(){var e=Object(K.a)(U.a.mark(function e(){var t=this;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({data:[],dataReceived:!1}),e.next=3,f.get("user/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?t.setState({data:e.data.list}):E.a.error(e.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e)});case 3:this.setState({dataReceived:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.emp,a=[Object(P.a)({title:"Id",dataIndex:"userId"},this.getColumnSearchProps("userId")),Object(P.a)({title:"Name",dataIndex:"firstName"},this.getColumnSearchProps("firstName")),{title:"Email",dataIndex:"email"},{title:"Contact",dataIndex:"contact"},Object(P.a)({title:"Role",dataIndex:"role"},this.getColumnSearchProps("role")),{title:"Department",dataIndex:"department"},{title:"Supervisor 01",dataIndex:"supervisor1"},Object(P.a)({title:"Status",dataIndex:"status"},this.getColumnSearchProps("status"),{render:function(e){var t;return t="Resign"===e?"red":"green",r.a.createElement(A.a,{style:{width:"62px"},color:t,key:e},e)}}),{dataIndex:"",key:"z",width:"3%",render:function(t){return r.a.createElement(w.a,{type:"info-circle",onClick:e.info.bind(e,t)})}},{dataIndex:"",key:"x",width:"3%",render:function(t){return r.a.createElement(w.a,{type:"edit",onClick:e.showUpdateDrawer.bind(e,t),theme:"twoTone"})}},{dataIndex:"",key:"y",width:"3%",render:function(t){return r.a.createElement(w.a,{type:"close-circle",onClick:e.showModal.bind(e,t),theme:"twoTone",twoToneColor:"#EE204D"})}}];return r.a.createElement("div",null,r.a.createElement(y.a,{hoverable:"true"},r.a.createElement(z.a,null,r.a.createElement(T.a,{span:3},r.a.createElement(S.a,{type:"primary",onClick:this.showAddDrawer,icon:"user-add"}," Add employee")),r.a.createElement(T.a,{span:20},0!==this.state.departments.length?r.a.createElement(Q.a,{style:{float:"right",width:220},placeholder:"Select a department",onChange:this.onDepartmentSelect,defaultValue:this.state.departments[0].name},this.state.departments.map(function(e){return r.a.createElement(xe,{key:e.id},e.name)})):null),r.a.createElement(T.a,{span:1},r.a.createElement(S.a,{style:{float:"right"},type:"primary",icon:"download",onClick:this.download.bind(this,{filename:"Employees.csv"})}))),r.a.createElement("br",null),r.a.createElement("br",null),this.state.dataReceived?r.a.createElement(F.a,{rowKey:function(e){return e.id},columns:a,dataSource:this.state.data,pagination:{pageSize:10},size:"middle"}):r.a.createElement("div",{className:"example"},r.a.createElement(R.a,{size:"large"})),r.a.createElement(de.a,{title:"Update Existing Employee",width:570,onClose:this.onUpdateClose,visible:this.state.visibleUpdate},r.a.createElement(ve,{update:this.state.updateEmployee,close:this.onUpdateClose})),r.a.createElement(de.a,{title:"Add New Employee",width:570,onClose:this.onAddClose,visible:this.state.visibleAdd},r.a.createElement(Ce,{close:this.onAddClose}))),0!==t.length?r.a.createElement(q.a,{title:"Full Employee Detail",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleOk,footer:null},"Working"===t.status?r.a.createElement(B.a,{message:"Currently Working",type:"success",style:{width:"456px"}}):r.a.createElement(B.a,{message:"Currently Resign",type:"error",style:{width:"456px"}}),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:6},"Emp No: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"100px"}},t.userId)),r.a.createElement(T.a,{span:12},"Name: \xa0\xa0\xa0 \xa0\xa0\xa0 \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"220px",whiteSpace:"normal"}},t.firstName," ",t.secondName)),r.a.createElement(T.a,{span:6},"Role: ",r.a.createElement(A.a,{color:"volcano",style:{width:"100px"}},t.role))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:10},"Department: ",r.a.createElement(A.a,{color:"volcano",style:{width:"180px"}},t.department)),r.a.createElement(T.a,{span:14},"Designation: ",r.a.createElement(A.a,{color:"volcano",style:{width:"260px"}},t.designation))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:18},"Email: ",r.a.createElement(A.a,{color:"volcano",style:{width:"335px"}},t.email)),r.a.createElement(T.a,{span:6},"Contact: ",r.a.createElement(A.a,{color:"volcano",style:{width:"100px"}},t.contact))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:16},"Residential Address: ",r.a.createElement(A.a,{color:"volcano",style:{width:"455px",whiteSpace:"normal"}},t.residence))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:16},"Permanent Address: ",r.a.createElement(A.a,{color:"volcano",style:{width:"455px",whiteSpace:"normal"}},t.permanent))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"DOB: ",r.a.createElement(A.a,{color:"volcano",style:{width:"220px"}},t.dob)),r.a.createElement(T.a,{span:12},"Religion: ",r.a.createElement(A.a,{color:"volcano",style:{width:"220px"}},t.religion))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"NIC: ",r.a.createElement(A.a,{color:"volcano",style:{width:"220px"}},t.nic)),r.a.createElement(T.a,{span:12},"Marriage Status: ",r.a.createElement(A.a,{color:"volcano",style:{width:"220px"}},t.marriageStatus))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Supervisor 01: ",r.a.createElement(A.a,{color:"volcano",style:{width:"220px"}},t.supervisor1)),r.a.createElement(T.a,{span:12},"Supervisor 02: ",r.a.createElement(A.a,{color:"volcano",style:{width:"220px"}},t.supervisor2))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:8},"Join Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"140px"}},t.joinDate)),"Intern"===t.role||"Probation"===t.role||"Contract"===t.role?r.a.createElement(T.a,{span:8},"End Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"140px"}},t.confirmDate)):r.a.createElement(T.a,{span:8},"Confirm Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"140px"}},t.confirmDate)),r.a.createElement(T.a,{span:8},"Resign Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"140px"}},t.resignDate))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:8},"Annual: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"140px"}},t.annual)),r.a.createElement(T.a,{span:8},"Casual: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"140px"}},t.casual)),r.a.createElement(T.a,{span:8},"Medical: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"140px"}},t.medical))),r.a.createElement("br",null)):null,r.a.createElement(Ie,{wrappedComponentRef:this.saveFormRef,visible:this.state.visibleResign,onCancel:this.handleCancel,onCreate:this.handleResign,onChangeResignDate:this.onChangeResignDate}))}}]),t}(n.Component),De=v.a.create({name:"viewEmployee"})(ke),Oe=a(587).a.Text;var _e=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={searchText:"",data:[]},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,l=t.selectedKeys,o=t.confirm,s=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(b.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(l,o)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(S.a,{type:"primary",onClick:function(){return a.handleSearch(l,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(S.a,{onClick:function(){return a.handleReset(s)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(w.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return a.searchInput.select()})},render:function(e){return r.a.createElement(Y.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.handleClick=function(e,t){t.preventDefault(),localStorage.setItem("leave_count",e.id),a.props.history.push("/get_employee")},a.download=function(e){var t,n,r,l=function(e){var t,a,n,r,l,o;return null!=(o=e.data||null)&&o.length?(r=e.columnDelimiter||",",l=e.lineDelimiter||"\n",n=Object.keys(o[0]),t="",t+=n.join(r),t+=l,o.forEach(function(e){a=0,n.forEach(function(n){a>0&&(t+=r),t+=e[n],a++}),t+=l}),t):null}({data:a.state.data});null!=l&&(n=e.filename||"export.csv",l.match(/^data:text\/csv/i)||(l="data:text/csv;charset=utf-8,"+l),t=encodeURI(l),(r=document.createElement("a")).setAttribute("href",t),r.setAttribute("download",n),r.click())},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({data:[]}),f.get("leave_count/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({data:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"render",value:function(){var e=this,t=[Object(P.a)({title:"Name",key:"0",dataIndex:"name"},this.getColumnSearchProps("name")),{title:"Casual",key:"1",dataIndex:"casual",align:"center"},{title:"Medical",key:"2",dataIndex:"medical",align:"center"},{title:"Annual",key:"3",dataIndex:"annual",align:"center"},{title:"Lieu",key:"4",dataIndex:"lieu",align:"center"},{title:"Special",key:"5",dataIndex:"special",align:"center"},{title:"Maternity",key:"6",dataIndex:"maternity",align:"center"},{title:"Paternity",key:"7",dataIndex:"paternity",align:"center"},{title:"Cover Up",key:"8",dataIndex:"coverup",align:"center"},{title:"No Pay",key:"9",dataIndex:"nopay",align:"center",render:function(e){return r.a.createElement(Oe,{type:"danger"},e)}},{dataIndex:"",key:"10",render:function(t){return r.a.createElement(w.a,{type:"file-search",onClick:e.handleClick.bind(e,t),style:{color:"#368DC5"}})}}];return r.a.createElement("div",null,0!==this.state.data?r.a.createElement(y.a,{type:"inner",title:"View Summary",hoverable:"true"},r.a.createElement(z.a,null,r.a.createElement(T.a,{span:21}),r.a.createElement(T.a,{span:3},r.a.createElement(S.a,{type:"primary",icon:"download",onClick:this.download.bind(this,{filename:"Leave Summary.csv"})}," Download "))),r.a.createElement("br",null),r.a.createElement(F.a,{rowKey:function(e){return e.id},columns:t,dataSource:this.state.data,pagination:{pageSize:10},size:"middle"})):r.a.createElement("div",{className:"example"},r.a.createElement(R.a,{size:"large"})))}}]),t}(n.Component),je=Q.a.Option,Re=ae.a.RangePicker;var Pe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={searchText:"",data:[],selectWhose:0,selectedWhose:null,selectStartDate:0,selectedDate:null,selectedOtherDate:null,visible:!1,leave:[],employees:[],departments:[],dataRes:!1},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,l=t.selectedKeys,o=t.confirm,s=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(b.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(l,o)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(S.a,{type:"primary",onClick:function(){return a.handleSearch(l,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(S.a,{onClick:function(){return a.handleReset(s)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(w.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return a.searchInput.select()})},render:function(e){return r.a.createElement(Y.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.showModal=function(e){a.setState({visible:!0,leave:e})},a.handleOk=function(e){a.setState({visible:!1})},a.handleReset=function(){a.reload(),a.props.form.resetFields(),a.setState({selectWhose:0,selectStartDate:0})},a.handleWhose=function(e){console.log(e),a.setState({selectWhose:e})},a.handleSelectedEmployee=function(e){console.log(e),a.setState({selectedWhose:e})},a.handleStartDate=function(e){a.setState({selectStartDate:e})},a.onChangeIs=function(e,t){console.log(t),a.setState({selectedDate:t})},a.onChangeBetween=function(e,t){console.log(t[0],t[1]),a.setState({selectedDate:t[0],selectedOtherDate:t[1]})},a.handleFilter=function(){a.setState({data:[],dataRes:!1});var e={selectWhose:a.state.selectWhose,selectedWhose:a.state.selectedWhose,selectDate:a.state.selectStartDate,selectedDate:a.state.selectedDate,selectedOtherDate:a.state.selectedOtherDate};f.post("leave/filter",e,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?a.setState({data:e.data.list.reverse(),dataRes:!0}):E.a.error(e.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})},a.download=function(e){var t,n,r,l=function(e){var t,a,n,r,l,o;return null!=(o=e.data||null)&&o.length?(r=e.columnDelimiter||",",l=e.lineDelimiter||"\n",n=Object.keys(o[0]),t="",t+=n.join(r),t+=l,o.forEach(function(e){a=0,n.forEach(function(n){a>0&&(t+=r),t+=e[n],a++}),t+=l}),t):null}({data:a.state.data});null!=l&&(n=e.filename||"export.csv",l.match(/^data:text\/csv/i)||(l="data:text/csv;charset=utf-8,"+l),t=encodeURI(l),(r=document.createElement("a")).setAttribute("href",t),r.setAttribute("download",n),r.click())},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.reload(),this.usersAndDepartments()}},{key:"reload",value:function(){var e=this;this.setState({data:[],dataRes:!1}),f.get("leave/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({data:t.data.list.reverse(),dataRes:!0}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"usersAndDepartments",value:function(){var e=this;f.get("user/manage_emp_filter",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({employees:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)}),f.get("department/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({departments:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state.leave,n=[Object(P.a)({title:"Name",dataIndex:"user"},this.getColumnSearchProps("user")),{title:"Date of request",dataIndex:"requestDateTime"},Object(P.a)({title:"Leave Type",dataIndex:"type"},this.getColumnSearchProps("type")),{title:"Start Date",dataIndex:"startDate"},{title:"End Date",dataIndex:"endDate"},{title:"Checked By",dataIndex:"checkBy"},Object(P.a)({title:"Status",dataIndex:"status"},this.getColumnSearchProps("status"),{render:function(e){var t;return t="Pending"===e?"geekblue":"Approved"===e?"green":"red",r.a.createElement(A.a,{style:{width:"70px"},color:t,key:e},e)}}),{dataIndex:"",key:"z",width:"1%",render:function(t){return r.a.createElement(w.a,{type:"info-circle",onClick:e.showModal.bind(e,t)})}}];return r.a.createElement("div",null,r.a.createElement(y.a,{hoverable:"true"},r.a.createElement(z.a,null,r.a.createElement(T.a,{span:7},"Whose: \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",t("whose",{initialValue:0})(r.a.createElement(Q.a,{style:{width:200},onChange:this.handleWhose},r.a.createElement(je,{value:0},"All Employees"),r.a.createElement(je,{value:1},"My"),r.a.createElement(je,{value:2},"Selected Department"),r.a.createElement(je,{value:3},"Selected Employee")))),r.a.createElement(T.a,{span:7},"\xa0",3===this.state.selectWhose?r.a.createElement(Q.a,{placeholder:"Please select employee",style:{width:"250px"},onChange:this.handleSelectedEmployee},this.state.employees.map(function(e){return r.a.createElement(je,{key:e.id},e.firstName," ",e.secondName)})):null,2===this.state.selectWhose?r.a.createElement(Q.a,{placeholder:"Please select department",style:{width:"250px"},onChange:this.handleSelectedEmployee},this.state.departments.map(function(e){return r.a.createElement(je,{key:e.id},e.name)})):null),r.a.createElement(T.a,{span:10},r.a.createElement(S.a,{type:"primary",icon:"search",onClick:this.handleFilter,style:{width:"120px"}}," Search "),"\xa0\xa0\xa0",r.a.createElement(S.a,{type:"primary",icon:"undo",onClick:this.handleReset,style:{width:"120px"}}," Reset "),"\xa0\xa0\xa0",r.a.createElement(S.a,{type:"primary",icon:"download",onClick:this.download.bind(this,{filename:"Leave History.csv"})}," Download "))),r.a.createElement("br",null),r.a.createElement(z.a,{gutter:8},r.a.createElement(T.a,{span:7},"Start Date: \xa0\xa0\xa0\xa0",t("start",{initialValue:0})(r.a.createElement(Q.a,{style:{width:200},onChange:this.handleStartDate},r.a.createElement(je,{value:0},"All"),r.a.createElement(je,{value:1},"Is"),r.a.createElement(je,{value:2},"Between"),r.a.createElement(je,{value:3},"After"),r.a.createElement(je,{value:4},"Before")))),r.a.createElement(T.a,{span:17},1===this.state.selectStartDate?r.a.createElement(ae.a,{onChange:this.onChangeIs,style:{width:210}}):null,2===this.state.selectStartDate?r.a.createElement(Re,{onChange:this.onChangeBetween,style:{width:300}}):null,3===this.state.selectStartDate?r.a.createElement(ae.a,{onChange:this.onChangeIs,style:{width:210}}):null,4===this.state.selectStartDate?r.a.createElement(ae.a,{onChange:this.onChangeIs,style:{width:210}}):null))),r.a.createElement("br",null),this.state.dataRes?r.a.createElement(y.a,{hoverable:"true"},r.a.createElement(F.a,{rowKey:function(e){return e.id},columns:n,dataSource:this.state.data,pagination:{pageSize:8},size:"middle"})):r.a.createElement("div",{className:"example2"},r.a.createElement(R.a,{size:"large"})),0!==a.length?r.a.createElement(q.a,{title:"Full Leave Record",visible:this.state.visible,onCancel:this.handleOk,footer:null},"Approved"===a.status?r.a.createElement(B.a,{message:"Request was approved",type:"success",style:{width:"460px"}}):"Pending"===a.status?r.a.createElement(B.a,{message:"Request is still Pending",type:"info",style:{width:"460px"}}):r.a.createElement(B.a,{message:"Request was rejected",type:"error",style:{width:"460px"}}),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Name of employee: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.user)),r.a.createElement(T.a,{span:12},"Duty Cover By: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.duty))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:8},"Date of Request: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},a.requestDateTime)),r.a.createElement(T.a,{span:8},"Leave Type: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},a.type)),r.a.createElement(T.a,{span:8},"Number Of Days:",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},a.number_of_leave_days))),r.a.createElement("br",null),.5!==a.number_of_leave_days?r.a.createElement(z.a,null,r.a.createElement(T.a,{span:6},"Start Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},a.startDate)),r.a.createElement(T.a,{span:6},"Full/ Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},a.startHalf)),r.a.createElement(T.a,{span:6},"End Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},a.endDate)),r.a.createElement(T.a,{span:6},"Full/ Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},a.endHalf))):r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Leave Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.startDate)),r.a.createElement(T.a,{span:12},"Leave Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.startHalf))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Supervisor 01: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.supervisor1)),r.a.createElement(T.a,{span:12},"Supervisor 02: \xa0\xa0\xa0 \xa0\xa0\xa0 \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.supervisor2))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Checked By: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.checkBy)),r.a.createElement(T.a,{span:12},"Checked On: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.checkTime))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:24},"Special Note: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"460px",whiteSpace:"normal"}},a.specialNotes))),r.a.createElement("br",null),"Rejected"===a.status?r.a.createElement("p",null,"Reason For Reject: ",r.a.createElement("br",null),r.a.createElement(A.a,{color:"volcano",style:{width:"460px",whiteSpace:"normal"}},a.reject)):null):null)}}]),t}(n.Component),Ae=v.a.create({name:"history"})(Pe),ze=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1},a.changePassword=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){var n={currentPassword:t.currentPassword,newPassword:t.newPassword};e||f.post("api/auth/change_password",n,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(E.a.success(e.data.message),a.props.form.resetFields()):E.a.error(e.data.message)}).catch(function(e){console.log(e),E.a.error("Something went wrong!")})})},a.handelCancel=function(){a.props.form.resetFields()},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("newPassword")?n("The two passwords you entered is inconsistent!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",null,r.a.createElement(y.a,{type:"inner",title:"Change Login Password",bordered:!1,hoverable:"true"},r.a.createElement(v.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{layout:"vertical",hideRequiredMark:!0}),r.a.createElement(v.a.Item,{hasFeedback:!0},e("currentPassword",{rules:[{required:!0,message:"Please input your current password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(b.a.Password,{id:"1",prefix:r.a.createElement(w.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Current Password"}))),r.a.createElement(v.a.Item,{hasFeedback:!0},e("newPassword",{rules:[{required:!0,message:"Please input your new password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(b.a.Password,{id:"2",prefix:r.a.createElement(w.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"New Password",maxLength:"20"}))),r.a.createElement(v.a.Item,{hasFeedback:!0},e("confirm",{rules:[{required:!0,message:"Please confirm your new password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(b.a.Password,{id:"3",onBlur:this.handleConfirmBlur,prefix:r.a.createElement(w.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Confirm Password",maxLength:"20",autocomplete:"none",display:"none"}))),r.a.createElement(v.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(S.a,{type:"primary",onClick:this.changePassword,style:{width:"100px"}},r.a.createElement(w.a,{type:"check-circle"}),"Submit"),"\xa0\xa0\xa0\xa0",r.a.createElement(S.a,{type:"danger",onClick:this.handelCancel,style:{width:"100px"}},r.a.createElement(w.a,{type:"close-circle"}),"Cancel")))))}}]),t}(r.a.Component),Te=v.a.create({name:"register"})(ze),Ne=a(109),Fe=(a(261),a(596)),Le=a(592),qe=q.a.confirm,Be=v.a.create({name:"form_in_modal"})(function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,l=e.form,o=e.date,s=l.getFieldDecorator,c="Set leave on ".concat(o);return r.a.createElement(q.a,{visible:t,title:c,okText:"Save",onCancel:a,onOk:n},r.a.createElement(v.a,{layout:"vertical"},r.a.createElement(v.a.Item,{label:"Reason for the leave"},s("reason",{rules:[{required:!0,message:"Please input the reason"}]})(r.a.createElement(b.a,{type:"textarea"})))))}}]),t}(r.a.Component)),Me=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={saveDates:[],dates:[],selectedValue:null,visible:!1,allRes:!1,dateRes:!1},a.onSelect=function(e){a.state.dates.includes(e.format("YYYY-MM-DD"))||a.setState({selectedValue:e.format("YYYY-MM-DD"),visible:!0})},a.handleCancel=function(){a.formRef.props.form.resetFields(),a.setState({visible:!1})},a.handleSet=function(){a.formRef.props.form.validateFields(function(e,t){var n={date:a.state.selectedValue,reason:t.reason};e||f.post("calender/set_date",n,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(E.a.success(e.data.message),a.reload(),a.handleCancel()):E.a.error(e.data.message)}).catch(function(e){E.a.error(e.response.data.error)})})},a.saveFormRef=function(e){a.formRef=e},a.showConfirm=function(e){console.log(e.id),a.setState({visible:!1}),qe({title:"Do you want to remove this holiday ?",okText:"Remove",okType:"danger",onOk:function(){f.get("calender/delete/"+e.id,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(E.a.success(e.data.message),a.reload(),a.handleCancel()):E.a.error(e.data.message)}).catch(function(e){E.a.error(e.response.data.error)})},onCancel:function(){}})},a.dateCellRender=function(e){return r.a.createElement("ul",{className:"events"},a.state.saveDates.map(function(t){return t.date===e.format("YYYY-MM-DD")?r.a.createElement("li",{key:t.date},r.a.createElement(Fe.a,{status:"success",text:t.reason}),r.a.createElement(Fe.a,{status:"warning",text:t.createdBy}),r.a.createElement(Fe.a,{status:"warning",text:t.createdAt}),r.a.createElement(w.a,{type:"delete",onClick:a.showConfirm.bind(Object(Ne.a)(Object(Ne.a)(a)),t),theme:"twoTone",twoToneColor:"#EE204D"})):null}))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.reload()}},{key:"reload",value:function(){var e=this;f.get("calender/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({saveDates:t.data.list,allRes:!0}):E.a.error(t.data.message)}).catch(function(e){console.log(e.response)}),f.get("calender/dates",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({dates:t.data.list,dateRes:!0}):E.a.error(t.data.message)}).catch(function(e){console.log(e.response)})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.allRes&&this.state.dateRes?r.a.createElement(y.a,{type:"inner",title:"Add Leave Days",bordered:!1,hoverable:"true"},r.a.createElement(Le.a,{onSelect:this.onSelect,dateCellRender:this.dateCellRender})):r.a.createElement("div",{className:"example"},r.a.createElement(R.a,{size:"large"})),r.a.createElement(Be,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleSet,date:this.state.selectedValue}))}}]),t}(r.a.Component),Ye=v.a.create({name:"calender"})(Me),He=q.a.confirm,Ve=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],res:!1},a.handleContact=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){if(!e){console.log(t);var n={name:t.name||void 0,contact:t.contact||void 0,relation:t.relation||void 0,user:{id:a.parseJwt(localStorage.getItem("header"))}||void 0};f.post("contact/add",n,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(E.a.success(e.data.message),a.handelCancel(),a.reload()):E.a.error(e.data.message)}).catch(function(e){E.a.error("Unsuccessfull"),console.log("res",e)})}})},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,l=t.selectedKeys,o=t.confirm,s=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(b.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(l,o)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(S.a,{type:"primary",onClick:function(){return a.handleSearch(l,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(S.a,{onClick:function(){return a.handleReset(s)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(w.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return a.searchInput.select()})},render:function(e){return r.a.createElement(Y.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handelCancel=function(){a.props.form.resetFields()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.reload()}},{key:"reload",value:function(){var e=this;if(null!==localStorage.getItem("header")){var t={id:this.parseJwt(localStorage.getItem("header"))};f.post("contact/employee",t,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({data:t.data.list,res:!0}):E.a.error(t.data.message)}).catch(function(e){console.log(e)})}}},{key:"parseJwt",value:function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(a).sub}},{key:"handleDelete",value:function(e,t){var a=this;t.preventDefault(),He({title:"Do you want to remove this contact ?",okText:"Remove",okType:"danger",onOk:function(){f.get("contact/delete/"+e.contact_id,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(E.a.success(e.data.message),a.handelCancel(),a.reload()):E.a.error(e.data.message)}).catch(function(e){console.log(e),E.a.error("Unsuccessfull")})}})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=[{title:"Name",dataIndex:"name"},{title:"Contact",dataIndex:"contact"},{title:"Relation",dataIndex:"relation"},{dataIndex:"",key:"x",render:function(t){return r.a.createElement(w.a,{type:"delete",onClick:e.handleDelete.bind(e,t),theme:"twoTone",twoToneColor:"#EE204D"})}}];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(y.a,{type:"inner",title:"Add Emergency Contacts",bordered:!1,hoverable:"true"},r.a.createElement(v.a,{layout:"inline",hideRequiredMark:!0},r.a.createElement(v.a.Item,null,t("name",{rules:[{required:!0,message:"Please input person !"}]})(r.a.createElement(b.a,{id:"1",prefix:r.a.createElement(w.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\xa0\xa0\xa0\xa0Name",maxLength:"50"}))),r.a.createElement(v.a.Item,null,t("contact",{rules:[{required:!0,message:"Please input contact number!"},{message:"Please input valid number!",len:10}]})(r.a.createElement(b.a,{id:"2",prefix:r.a.createElement(w.a,{type:"phone",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\xa0\xa0\xa0\xa0Contact Number"}))),r.a.createElement(v.a.Item,null,t("relation",{rules:[{required:!0,message:"Please input relation !"}]})(r.a.createElement(b.a,{id:"3",onBlur:this.handleConfirmBlur,prefix:r.a.createElement(w.a,{type:"home",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\xa0\xa0\xa0\xa0Relation",maxLength:"20"}))),"\xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(v.a.Item,null,r.a.createElement(S.a,{type:"primary",onClick:this.handleContact,style:{width:"100px"}},r.a.createElement(w.a,{type:"check-circle"}),"Submit"),"\xa0\xa0\xa0",r.a.createElement(S.a,{type:"danger",onClick:this.handelCancel,style:{width:"100px"}},r.a.createElement(w.a,{type:"close-circle"}),"Cancel"))))),r.a.createElement("br",null),r.a.createElement("div",null,this.state.res?r.a.createElement(y.a,{hoverable:"true"},r.a.createElement(F.a,{rowKey:function(e){return e.contact_id},columns:a,dataSource:this.state.data,pagination:{pageSize:5},size:"middle"})):r.a.createElement("div",{className:"example2"},r.a.createElement(R.a,{size:"large"}))))}}]),t}(r.a.Component),We=v.a.create({name:"register"})(Ve),Ue=a(580),Ke=a(594),Je=q.a.confirm,Ge=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(e){e.preventDefault(),Je({title:"Do you want to logout?",onOk:function(){localStorage.removeItem("header"),a.props.history.push("/login")},onCancel:function(){console.log("Cancel")}})},a.state={absentRes:!1,requestedRes:!1,rejectedRes:!1,visible:!1,data:[],requested:[],rejected:[],pendingCount:"0"},a.toggle=function(){a.setState({absentRes:!1,requestedRes:!1,rejectedRes:!1,data:[],visible:!0}),f.get("leave/absent",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?a.setState({data:e.data.list,absentRes:!0}):E.a.error(e.data.message)}).catch(function(e){console.log("Error",e),E.a.error("Something went wrong")}),f.get("leave/requested",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?a.setState({requested:e.data.list,requestedRes:!0}):E.a.error(e.data.message)}).catch(function(e){console.log("Error",e),E.a.error("Something went wrong")}),f.get("leave/rejected",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?a.setState({rejected:e.data.list,rejectedRes:!0}):E.a.error(e.data.message)}).catch(function(e){console.log("Error",e),E.a.error("Something went wrong")})},a.onClose=function(){a.setState({visible:!1})},a.getPendingLeaveCount=function(){f.get("leave/pending_count",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?a.setState({pendingCount:e.data.message}):E.a.error(e.data.message)}).catch(function(e){console.log("Error",e),E.a.error("Something went wrong")})},a.directToPending=function(){a.props.history.push("/pending_leaves")},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.getPendingLeaveCount()}},{key:"render",value:function(){return setInterval(this.getPendingLeaveCount,36e5),r.a.createElement("div",null,r.a.createElement(y.a,{hoverable:"true",className:"header"},r.a.createElement(z.a,null,r.a.createElement(T.a,{span:3},null===this.props.image?r.a.createElement(Ue.a,{className:"avatar",size:90,icon:"user",src:"/public/images/01.png"}):r.a.createElement(Ue.a,{className:"avatar",size:90,icon:"user",src:this.props.image})),r.a.createElement(T.a,{span:16},r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"17px"}},this.props.name),r.a.createElement("br",null),r.a.createElement("span",{style:{fontSize:"13px"}},this.props.designation),"\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement("span",{style:{fontSize:"13px",color:"gray"}},this.props.department),"\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement("span",{style:{fontSize:"13px",color:"red"}},this.props.role)),r.a.createElement(T.a,{span:5},r.a.createElement(z.a,null,r.a.createElement(T.a,{span:5},r.a.createElement(S.a,{key:"1",type:"primary",onClick:this.toggle,icon:"menu-fold"})),"Admin"===this.props.role||"Supervisor"===this.props.role?r.a.createElement(T.a,{span:5},r.a.createElement(Fe.a,{count:parseInt(this.state.pendingCount),offset:[0,0]},r.a.createElement(S.a,{key:"1",type:"primary",onClick:this.directToPending,icon:"bell"}))):null,r.a.createElement(T.a,{span:1},r.a.createElement(S.a,{key:"2",type:"primary",onClick:this.handleLogout,icon:"logout"}))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(A.a,{color:"volcano"},$()().format("LL")))))),r.a.createElement(de.a,{title:"Today Leaves",width:300,onClose:this.onClose,visible:this.state.visible},r.a.createElement("br",null),r.a.createElement(B.a,{message:"Approved",type:"success",showIcon:!0}),this.state.absentRes?r.a.createElement(Ke.a,{itemLayout:"horizontal",dataSource:this.state.data,renderItem:function(e){return r.a.createElement(Ke.a.Item,null,r.a.createElement(Ke.a.Item.Meta,{avatar:r.a.createElement(Ue.a,{src:e.image,icon:"user"}),title:e.name}))}}):null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(B.a,{message:"Pending",type:"info",showIcon:!0}),this.state.rejectedRes?r.a.createElement(Ke.a,{itemLayout:"horizontal",dataSource:this.state.requested,renderItem:function(e){return r.a.createElement(Ke.a.Item,null,r.a.createElement(Ke.a.Item.Meta,{avatar:r.a.createElement(Ue.a,{src:e.image,icon:"user"}),title:e.name}))}}):null,r.a.createElement("br",null),r.a.createElement("br",null),"Admin"===this.props.role||"Supervisor"===this.props.role?r.a.createElement(B.a,{message:"Rejected",type:"error",showIcon:!0}):null,!this.state.rejectedRes||"Admin"!==this.props.role&&"Supervisor"!==this.props.role?null:r.a.createElement(Ke.a,{itemLayout:"horizontal",dataSource:this.state.rejected,renderItem:function(e){return r.a.createElement(Ke.a.Item,null,r.a.createElement(Ke.a.Item.Meta,{avatar:r.a.createElement(Ue.a,{src:e.image,icon:"user"}),title:e.name}))}})))}}]),t}(r.a.Component),Xe=Object(p.g)(Ge),Ze=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={data:[],count:[],contact:[],special:null,visible:!1,leave:[],employee:[],summery:[],sumRes:!1,dataRes:!1,conRes:!1,empRes:!1},a.showModal=function(e){a.setState({visible:!0,leave:e})},a.handleOk=function(e){console.log(e),a.setState({visible:!1})},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,l=t.selectedKeys,o=t.confirm,s=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(b.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(l,o)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(S.a,{type:"primary",onClick:function(){return a.handleSearch(l,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(S.a,{onClick:function(){return a.handleReset(s)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(w.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return a.searchInput.select()})},render:function(e){return r.a.createElement(Y.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;f.get("leave_count/summery/"+localStorage.getItem("leave_count"),{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({summery:t.data.list,sumRes:!0}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)}),f.get("leave/find/"+localStorage.getItem("leave_count"),{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({data:t.data.list.reverse(),dataRes:!0}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)});var t={id:localStorage.getItem("leave_count")};f.post("contact/employee",t,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({contact:t.data.list,conRes:!0}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)}),f.get("user/get/"+localStorage.getItem("leave_count"),{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({employee:t.data.employee,empRes:!0}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)}),setTimeout(function(){localStorage.removeItem("leave_count")},1e3)}},{key:"render",value:function(){var e=this,t=this.state,a=t.leave,n=t.employee,l=t.summery,o=t.contact,s=t.data,c=t.sumRes,i=t.dataRes,m=t.empRes,u=t.conRes,d=[Object(P.a)({title:"Date of request",dataIndex:"requestDateTime"},this.getColumnSearchProps("requestDateTime")),{title:"Leave Type",dataIndex:"type",align:"center"},{title:"Start Date",dataIndex:"startDate"},{title:"End Date",dataIndex:"endDate"},{title:"Number of days",dataIndex:"number_of_leave_days",align:"center"},{title:"Status",dataIndex:"status",align:"center",render:function(e){var t=e.length;return t="Pending"===e?"geekblue":"Approved"===e?"green":"red",r.a.createElement(A.a,{color:t,key:e},e)}},{dataIndex:"",key:"z",width:"1%",render:function(t){return r.a.createElement(w.a,{type:"info-circle",onClick:e.showModal.bind(e,t),theme:"twoTone"})}}];return r.a.createElement("div",{className:"center"},c&&i&&m&&u?r.a.createElement("div",null,r.a.createElement(y.a,{hoverable:"true"},r.a.createElement(z.a,{gutter:16},r.a.createElement("center",null,r.a.createElement(T.a,{span:6},r.a.createElement(N.a,{type:"circle",percent:l[0].utilized/l[0].entitlement*100,format:function(e){return"".concat(l[0].utilized," / ").concat(l[0].entitlement)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(A.a,{color:"volcano"},"Casual")),r.a.createElement(T.a,{span:6},r.a.createElement(N.a,{type:"circle",percent:l[1].utilized/l[1].entitlement*100,format:function(e){return"".concat(l[1].utilized," / ").concat(l[1].entitlement)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(A.a,{color:"volcano"},"Medical")),r.a.createElement(T.a,{span:6},r.a.createElement(N.a,{type:"circle",percent:l[2].utilized/l[2].entitlement*100,format:function(e){return"".concat(l[2].utilized," / ").concat(l[2].entitlement)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(A.a,{color:"volcano"},"Annual")),r.a.createElement(T.a,{span:6},r.a.createElement(N.a,{type:"circle",percent:l[3].utilized/l[3].entitlement*100,format:function(e){return"".concat(l[3].utilized," / ").concat(l[3].entitlement)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(A.a,{color:"volcano"},"Lieu"))))),r.a.createElement("br",null),r.a.createElement(y.a,{hoverable:"true"},r.a.createElement(z.a,null,r.a.createElement(T.a,{span:20},r.a.createElement(L.a,{title:"User Infomation",size:"small",bordered:!0,column:2},r.a.createElement(L.a.Item,{label:"Name"},n.firstName," ",n.secondName),r.a.createElement(L.a.Item,{label:"Email",span:1},n.email),r.a.createElement(L.a.Item,{label:"Residence"},n.residence),r.a.createElement(L.a.Item,{label:"Contact No",span:1}," ",n.contact),r.a.createElement(L.a.Item,{label:"Role"},n.role),r.a.createElement(L.a.Item,{label:"Department",span:1},n.department),r.a.createElement(L.a.Item,{label:"Status",span:2},r.a.createElement(Fe.a,{status:"processing",text:n.status})),r.a.createElement(L.a.Item,{label:"Supervisor 01"},n.supervisor1),r.a.createElement(L.a.Item,{label:"Supervisor 02",span:1},n.supervisor2),r.a.createElement(L.a.Item,{label:"Join Date"},n.joinDate),r.a.createElement(L.a.Item,{label:"Confirm Date"},n.confirmDate))),r.a.createElement(T.a,{span:4},r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),null===n.image?r.a.createElement(Ue.a,{style:{float:"right"},size:160,icon:"user",src:"/src/01.png"}):r.a.createElement(Ue.a,{style:{float:"right"},size:200,icon:"user",src:n.image})))),r.a.createElement("br",null),r.a.createElement(z.a,{gutter:16},r.a.createElement(T.a,{span:14},r.a.createElement(y.a,{hoverable:"true"},r.a.createElement(F.a,{rowKey:function(e){return e.type},columns:[{title:"Type",key:"0",dataIndex:"type"},{title:"Entitlement",key:"1",dataIndex:"entitlement"},{title:"Utilized",key:"2",dataIndex:"utilized"},{title:"Remaining",key:"3",dataIndex:"remaining"}],dataSource:l,size:"small",pagination:!1}))),r.a.createElement(T.a,{span:10},r.a.createElement(y.a,{hoverable:"true"},r.a.createElement(F.a,{rowKey:function(e){return e.contact_id},columns:[{title:"Name",dataIndex:"name"},{title:"Contact",dataIndex:"contact"},{title:"Relation",dataIndex:"relation"}],dataSource:o,pagination:!1,size:"middle",bordered:!0})))),r.a.createElement("br",null),r.a.createElement(y.a,{hoverable:"true"},r.a.createElement(F.a,{rowKey:function(e){return e.id},columns:d,dataSource:s,pagination:{pageSize:5},size:"middle"}))):r.a.createElement("div",{className:"example"},r.a.createElement(R.a,{size:"large"})),0!==a.length?r.a.createElement(q.a,{title:"Full Leave Record",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleOk,footer:null},"Approved"===a.status?r.a.createElement(B.a,{message:"Request was approved",type:"success",style:{width:"460px"}}):"Pending"===a.status?r.a.createElement(B.a,{message:"Request is still pending",type:"info",style:{width:"460px"}}):r.a.createElement(B.a,{message:"Request was rejected",type:"error",style:{width:"460px"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:8},"Date of Request: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},a.requestDateTime)),r.a.createElement(T.a,{span:8},"Leave Type: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},a.type)),r.a.createElement(T.a,{span:8},"Number Of Days:",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},a.number_of_leave_days))),r.a.createElement("br",null),.5!==a.number_of_leave_days?r.a.createElement(z.a,null,r.a.createElement(T.a,{span:6},"Start Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},a.startDate)),r.a.createElement(T.a,{span:6},"Full/ Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},a.startHalf)),r.a.createElement(T.a,{span:6},"End Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},a.endDate)),r.a.createElement(T.a,{span:6},"Full/ Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"105px"}},a.endHalf))):r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Leave Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.startDate)),r.a.createElement(T.a,{span:12},"Leave Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.startHalf))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Checked By: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.checkBy)),r.a.createElement(T.a,{span:12},"Checked On: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.checkTime))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:8},"Duty Cover By: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"145px"}},a.duty)),r.a.createElement(T.a,{span:16},"Special Note: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"305px",whiteSpace:"normal"}},a.specialNotes))),r.a.createElement("br",null),"Rejected"===a.status?r.a.createElement("p",null,"Reason For Reject: ",r.a.createElement("br",null),r.a.createElement(A.a,{color:"volcano",style:{width:"460px",whiteSpace:"normal"}},a.reject)):null):null)}}]),t}(n.Component),$e=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={searchText:"",data:[]},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,l=t.selectedKeys,o=t.confirm,s=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(b.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(l,o)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(S.a,{type:"primary",onClick:function(){return a.handleSearch(l,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(S.a,{onClick:function(){return a.handleReset(s)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(w.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return a.searchInput.select()})},render:function(e){return r.a.createElement(Y.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.handleClick=function(e,t){t.preventDefault(),console.log("aaaaa",e),localStorage.setItem("leave_count",e.id),a.props.history.push("/one_attendence")},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({data:[]}),g.a.get("http://localhost:5000/leave_count/profile",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){console.log("res",t.data),!0===t.data.success?e.setState({data:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"render",value:function(){var e=this,t=[{title:"Name",key:"0",dataIndex:"name"},{title:"Casual",key:"1",dataIndex:"casual"},{title:"Medical",key:"2",dataIndex:"medical"},{title:"Maternity",key:"3",dataIndex:"maternity"},{title:"Paternity",key:"4",dataIndex:"paternity"},{title:"Annual",key:"5",dataIndex:"annual"},{title:"Lieu",key:"6",dataIndex:"lieu"},{title:"Special",key:"7",dataIndex:"special"},{title:"Cover Up",key:"8",dataIndex:"coverup"},{title:"No Pay",key:"9",dataIndex:"nopay"},{dataIndex:"",key:"10",render:function(t){return r.a.createElement(w.a,{type:"file-search",onClick:e.handleClick.bind(e,t),style:{color:"#368DC5"}})}}];return r.a.createElement("div",null,r.a.createElement(y.a,{hoverable:"true"},r.a.createElement(F.a,{rowKey:function(e){return e.id},columns:t,dataSource:this.state.data,pagination:{pageSize:2},size:"middle"})))}}]),t}(n.Component),Qe=Q.a.Option;function et(e){console.log(this.state.count.casual),q.a.info({title:"Fully Leave Record",content:r.a.createElement("div",null),onOk:function(){}})}function tt(e){console.log("selected ".concat(e))}var at=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],count:[],contact:[],special:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({data:[],count:[]}),g.a.get("http://localhost:5000/leave/find/"+localStorage.getItem("leave_count"),{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({data:t.data.list.reverse()}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)}),g.a.get("http://localhost:5000/leave_count/profile/"+localStorage.getItem("leave_count"),{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({count:t.data.profile,special:t.data.profile.casual}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)});var t={emp_id:localStorage.getItem("leave_count")};g.a.post("http://localhost:5000/contact/employee",t,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){console.log("contact",t.data),!0===t.data.success?e.setState({count:t.data.profile,special:t.data.profile.casual}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"render",value:function(){var e=this,t=[{title:"Date of request",dataIndex:"requestDateTime"},{title:"Leave Type",dataIndex:"type"},{title:"Start Date",dataIndex:"startDate"},{title:"End Date",dataIndex:"endDate"},{title:"Number of days",dataIndex:"number_of_leave_days"},{title:"Status",dataIndex:"status"},{dataIndex:"",key:"z",width:"1%",render:function(t){return r.a.createElement(w.a,{type:"info-circle",onClick:et.bind(e,t),theme:"twoTone"})}}];return r.a.createElement("div",{className:"center"},r.a.createElement(y.a,{hoverable:"true"},r.a.createElement(z.a,null,r.a.createElement(T.a,{span:1},r.a.createElement(A.a,{color:"volcano"},"0004")),r.a.createElement(T.a,{span:18},r.a.createElement(A.a,{color:"geekblue"},"Pramuditha Kaushalya")),r.a.createElement(T.a,{span:5},r.a.createElement(Q.a,{defaultValue:"jan",style:{width:200},onChange:tt},r.a.createElement(Qe,{value:"jan"},"January"),r.a.createElement(Qe,{value:"feb"},"February"),r.a.createElement(Qe,{value:"mar"},"March"),r.a.createElement(Qe,{value:"apr"},"April"),r.a.createElement(Qe,{value:"may"},"May"),r.a.createElement(Qe,{value:"jun"},"June"),r.a.createElement(Qe,{value:"jul"},"July"),r.a.createElement(Qe,{value:"aug"},"Augest"),r.a.createElement(Qe,{value:"sep"},"September"),r.a.createElement(Qe,{value:"oct"},"Octomber"),r.a.createElement(Qe,{value:"nov"},"November"),r.a.createElement(Qe,{value:"dec"},"December"))))),r.a.createElement("br",null),r.a.createElement(y.a,{hoverable:"true"},r.a.createElement(F.a,{rowKey:function(e){return e.id},columns:t,dataSource:this.state.data,pagination:{pageSize:7},size:"middle"})))}}]),t}(n.Component),nt=b.a.TextArea,rt=q.a.confirm,lt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={lieuLeaves:[],saveDates:[],holidays:[],spinning:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||rt({title:"Sure to submit lieu collecting request?",content:"If you submit, your request will be sent to administraters and supervisors.",okText:"Submit",okType:"primary",onOk:function(){a.state.holidays.includes($()(t.date).format("YYYY-MM-DD"))||0===t.date._d.getDay()||6===t.date._d.getDay()?a.saveRequest(t):E.a.error("Not a holiday or weekend")}})})},a.saveRequest=function(e){a.setState({spinning:!0});var t={date:e.date,period:e.period,project:e.project,worksDone:e.worksDone};f.post("lieu_leave/save",t,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){e.data.success?(a.handleCancel(),E.a.success(e.data.message),a.getLieuLeaves(),a.setState({spinning:!1})):(E.a.error(e.data.message),a.setState({spinning:!1}))}).catch(function(e){console.log(e.response.data.error),E.a.error("Something went wrong"),a.setState({spinning:!1})})},a.handleCancel=function(){a.props.form.resetFields()},a.disabledStartDate=function(e){return e&&e<$()().subtract(7,"d")},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.getLieuLeaves(),this.getHolidays(),this.getHolidayEvents()}},{key:"getLieuLeaves",value:function(){var e=this;f.get("lieu_leave/get_own",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){t.data.success?e.setState({lieuLeaves:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"getHolidayEvents",value:function(){var e=this;f.get("calender/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({saveDates:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"getHolidays",value:function(){var e=this;f.get("calender/dates",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({holidays:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.lieuLeaves,n=t.saveDates,l=t.spinning,o=[{title:"Date",key:"0",dataIndex:"date",render:function(e){return $()(e).format("YYYY-MM-DD")}},{title:"Period",key:"1",dataIndex:"period",render:function(e){return 0===e?"Half Day":"Full Day"}},{title:"Project",key:"2",dataIndex:"project"},{title:"Status",key:"3",dataIndex:"status",render:function(e){var t,a;return 0===e?(t="geekblue",a="Pending"):1===e?(t="green",a="Approved"):(t="red",a="Rejected"),r.a.createElement(A.a,{color:t,key:e},a)}}];return r.a.createElement("div",null,r.a.createElement(R.a,{tip:"Sending...",spinning:l},r.a.createElement(z.a,{gutter:16},r.a.createElement(T.a,{span:12},r.a.createElement(y.a,{type:"inner",title:"Collect Lieu Leaves",bordered:!1,hoverable:"true"},r.a.createElement("small",null,"You can collect lieu leaves only for holidays or weekends.")," ",r.a.createElement("br",null),r.a.createElement("small",null,"You have to collect lieu leaves one by one per day. ")," ",r.a.createElement("br",null),r.a.createElement("small",null,"You have to collect lieu leaves within a week. ")," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),r.a.createElement(v.a.Item,{label:"Date"},e("date",{rules:[{required:!0,message:"Please input Date!"}]})(r.a.createElement(ae.a,{disabledDate:this.disabledStartDate,format:"YYYY-MM-DD",placeholder:"Pickup a Date",style:{width:"100%"}}))),r.a.createElement(v.a.Item,{label:"Period"},e("period",{rules:[{required:!0,message:"Please input worked period!"}],initialValue:0})(r.a.createElement(ee.a.Group,null,r.a.createElement(ee.a.Button,{value:0},"Half Day"),r.a.createElement(ee.a.Button,{value:1},"Full Day")))),r.a.createElement(v.a.Item,{label:"Project"},e("project",{rules:[{required:!0,message:"Please input the project!"}]})(r.a.createElement(b.a,{maxLength:30}))),r.a.createElement(v.a.Item,{label:"Works done"},e("worksDone",{rules:[{required:!0,message:"Please input the works you done"}]})(r.a.createElement(nt,{rows:4,maxLength:300,style:{width:"100%",height:"170px"}}))),r.a.createElement("br",null),r.a.createElement(v.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(S.a,{type:"primary",htmlType:"submit",style:{width:"100px"}},r.a.createElement(w.a,{type:"check-circle"}),"Submit"),"\xa0\xa0\xa0\xa0",r.a.createElement(S.a,{type:"danger",onClick:this.handleCancel,style:{width:"100px"}},r.a.createElement(w.a,{type:"close-circle"}),"Cancel"))),r.a.createElement("br",null))),r.a.createElement(T.a,{span:12},r.a.createElement(z.a,null,r.a.createElement(T.a,{span:24},r.a.createElement(y.a,{hoverable:"true"},r.a.createElement("h4",null,"Requested Lieu Leaves"),r.a.createElement(F.a,{rowKey:function(e){return e.date},columns:o,dataSource:a,size:"small",pagination:{pageSize:2}})),r.a.createElement("br",null)),r.a.createElement(T.a,{span:24},r.a.createElement(y.a,{hoverable:"true"},r.a.createElement("h4",null,"Holidays"),r.a.createElement(F.a,{rowKey:function(e){return e.date},columns:[{title:"Date",key:"0",dataIndex:"date"},{title:"Event",key:"1",dataIndex:"reason"}],dataSource:n,size:"small",pagination:{pageSize:6}}))))))))}}]),t}(r.a.Component),ot=v.a.create({name:"register"})(lt),st=b.a.TextArea,ct=q.a.confirm,it=Q.a.Option,mt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={holidays:[],spinning:!1,employees:[],saveDates:[]},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||ct({title:"Sure to add this lieu request?",content:"If you submit, this request will be sent to supervisors to get approval.",okText:"Submit",okType:"primary",onOk:function(){a.state.holidays.includes($()(t.date).format("YYYY-MM-DD"))||0===t.date._d.getDay()||6===t.date._d.getDay()?a.saveRequest(t):E.a.error("Not a holiday or weekend")}})})},a.saveRequest=function(e){a.setState({spinning:!0});var t={id:e.employee,date:e.date,period:e.period,project:e.project,worksDone:e.worksDone};f.post("lieu_leave/save_by_admin",t,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){e.data.success?(a.handleCancel(),E.a.success(e.data.message),a.setState({spinning:!1})):(E.a.error(e.data.message),a.setState({spinning:!1}))}).catch(function(e){console.log(e.response.data.error),E.a.error("Something went wrong"),a.setState({spinning:!1})})},a.handleCancel=function(){a.props.form.resetFields()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.getUsers(),this.getHolidayEvents(),this.getHolidays()}},{key:"getHolidays",value:function(){var e=this;f.get("calender/dates",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({holidays:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"getHolidayEvents",value:function(){var e=this;f.get("calender/all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({saveDates:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"getUsers",value:function(){var e=this;f.get("user/manage_emp_filter",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({employees:t.data.list}):E.a.error(t.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.saveDates,n=t.spinning;return r.a.createElement("div",null,r.a.createElement(R.a,{tip:"Sending...",spinning:n},r.a.createElement(z.a,{gutter:16},r.a.createElement(T.a,{span:13},r.a.createElement(y.a,{type:"inner",title:"Add Lieu Leaves",bordered:!1,hoverable:"true"},r.a.createElement(v.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),0!==this.state.employees.length?r.a.createElement(v.a.Item,{label:"Select employee"},e("employee",{rules:[{required:!0,message:"Please select the employee!"}],initialValue:"No One"})(r.a.createElement(Q.a,{placeholder:"Please select a employee"},this.state.employees.map(function(e){return r.a.createElement(it,{key:e.id},e.firstName," ",e.secondName)})))):null,r.a.createElement(v.a.Item,{label:"Date"},e("date",{rules:[{required:!0,message:"Please input Date!"}]})(r.a.createElement(ae.a,{format:"YYYY-MM-DD",placeholder:"Pickup a Date",style:{width:"100%"}}))),r.a.createElement(v.a.Item,{label:"Period"},e("period",{rules:[{required:!0,message:"Please input worked period!"}],initialValue:0})(r.a.createElement(ee.a.Group,null,r.a.createElement(ee.a.Button,{value:0},"Half Day"),r.a.createElement(ee.a.Button,{value:1},"Full Day")))),r.a.createElement(v.a.Item,{label:"Project"},e("project",{rules:[{required:!0,message:"Please input the project!"}]})(r.a.createElement(b.a,{maxLength:30}))),r.a.createElement(v.a.Item,{label:"Comment"},e("worksDone",{rules:[{required:!0,message:"Please input the works you done"}]})(r.a.createElement(st,{rows:4,maxLength:300,style:{width:"100%",height:"170px"}}))),r.a.createElement("br",null),r.a.createElement(v.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(S.a,{type:"primary",htmlType:"submit",style:{width:"100px"}},r.a.createElement(w.a,{type:"check-circle"}),"Submit"),"\xa0\xa0\xa0\xa0",r.a.createElement(S.a,{type:"danger",onClick:this.handleCancel,style:{width:"100px"}},r.a.createElement(w.a,{type:"close-circle"}),"Cancel"))),r.a.createElement("br",null))),r.a.createElement(T.a,{span:11},r.a.createElement(y.a,{hoverable:"true"},r.a.createElement("h4",null,"Holidays"),r.a.createElement(F.a,{rowKey:function(e){return e.date},columns:[{title:"Date",key:"0",dataIndex:"date"},{title:"Event",key:"1",dataIndex:"reason"}],dataSource:a,size:"small",pagination:{pageSize:12}}))))))}}]),t}(r.a.Component),ut=v.a.create({name:"register"})(mt),dt=q.a.confirm,pt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={pendingLieus:[],leave:[],mounted:!1,reject:null,visibleAccept:!1,spinning:!1},a.showConfirm=function(e){dt({title:"Are you sure to reject this lieu leave?",okText:"Reject",okType:"danger",onOk:function(){a.setState({spinning:!0}),f.get("lieu_leave/reject/"+e.id,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(E.a.success(e.data.message),a.reload(),a.setState({spinning:!1})):(E.a.error(e.data.message),a.setState({spinning:!1}))}).catch(function(e){console.log(e),E.a.error("Something Went Wrong!"),a.setState({spinning:!1})})},onCancel:function(){}})},a.handleCancel=function(){a.setState({visibleAccept:!1})},a.saveFormRef=function(e){a.formRef=e},a.show=function(e){console.log(e),a.setState({leave:e,visibleAccept:!0})},a.handleOk=function(){a.setState({confirmLoading:!0,spinning:!0}),setTimeout(function(){a.setState({visibleAccept:!1,confirmLoading:!1})},500),f.get("lieu_leave/approve/"+a.state.leave.id,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(E.a.success(e.data.message),a.reload(),a.setState({spinning:!1})):(E.a.error(e.data.message),a.setState({spinning:!1}))}).catch(function(e){console.log(e),E.a.error("Something Went Wrong!"),a.setState({spinning:!1})})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.reload()}},{key:"reload",value:function(){var e=Object(K.a)(U.a.mark(function e(){var t=this;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({mounted:!1}),e.next=3,f.get("lieu_leave/get_all",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){e.data.success?t.setState({pendingLieus:e.data.list}):E.a.error(e.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e.response.data.error)});case 3:this.setState({mounted:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.visibleAccept,n=t.confirmLoading,l=t.leave,o=t.pendingLieus,s=t.spinning,c=[{title:"Emoloyee",key:"0",dataIndex:"employee"},{title:"Requested Time",key:"1",dataIndex:"requestAt",render:function(e){return $()(e,"YYYY-MM-DD HH:mm Z").format("lll")}},{title:"Worked Date",key:"2",dataIndex:"date",render:function(e){return $()(e).format("YYYY-MM-DD")}},{title:"Period",key:"3",dataIndex:"period",render:function(e){return 0===e?"Half Day":"Full Day"}},{title:"Project",key:"4",dataIndex:"project"},{key:"5",width:"3%",render:function(t){return r.a.createElement(w.a,{type:"like",onClick:e.show.bind(e,t),theme:"twoTone",twoToneColor:"#81CF7F"})}},{dataIndex:"",key:"6",width:"1%",render:function(t){return r.a.createElement(w.a,{type:"dislike",onClick:e.showConfirm.bind(e,t),theme:"twoTone",twoToneColor:"red"})}}];return r.a.createElement("div",null,r.a.createElement(R.a,{tip:"Waiting...",spinning:s},this.state.mounted?r.a.createElement(y.a,{type:"inner",title:"Pending Lieu Leaves",hoverable:"true"},r.a.createElement(F.a,{rowKey:function(e){return e.id},columns:c,dataSource:o,pagination:{pageSize:10},size:"middle"})):r.a.createElement("div",{className:"example"},r.a.createElement(R.a,{size:"large"})),0!==this.state.leave.length?r.a.createElement(q.a,{title:"Accept the lieu leave request.",visible:a,onOk:this.handleOk,confirmLoading:n,onCancel:this.handleCancel,okText:"Approve"},r.a.createElement("div",null,r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Name of employee: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},l.employee)),r.a.createElement(T.a,{span:12},"Project: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},l.project))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},$()(l.date).format("YYYY-MM-DD"))),r.a.createElement(T.a,{span:12},"Full/ Half: \xa0\xa0\xa0 \xa0\xa0\xa0 \xa0\xa0\xa0 \xa0\xa0\xa0",0===l.period?r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},"Half Day"):r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},"Full Day"))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:24},"Works Done: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"460px",whiteSpace:"normal"}},l.worksDone))),r.a.createElement("br",null))):null))}}]),t}(n.Component),ht=q.a.confirm,gt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={mounted:!1,searchText:"",data:[],visible:!1,leave:[],spinning:!1},a.getColumnSearchProps=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,l=t.selectedKeys,o=t.confirm,s=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(b.a,{ref:function(e){a.searchInput=e},placeholder:"Search ".concat(e),value:l[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return a.handleSearch(l,o)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(S.a,{type:"primary",onClick:function(){return a.handleSearch(l,o)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),r.a.createElement(S.a,{onClick:function(){return a.handleReset(s)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(w.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e].toString().toLowerCase().includes(t.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout(function(){return a.searchInput.select()})},render:function(e){return r.a.createElement(Y.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[a.state.searchText],autoEscape:!0,textToHighlight:e.toString()})}}},a.handleSearch=function(e,t){t(),a.setState({searchText:e[0]})},a.handleReset=function(e){e(),a.setState({searchText:""})},a.showModal=function(e){a.setState({visible:!0,leave:e})},a.handleOk=function(e){console.log(e),a.setState({visible:!1})},a.showConfirm=function(e){ht({title:"Do you want to remove this request ?",okText:"Remove",okType:"danger",onOk:function(){a.setState({spinning:!0}),f.get("leave/delete_own/"+e.id,{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?(E.a.success(e.data.message),a.reload(),a.setState({spinning:!1})):(a.setState({spinning:!1}),E.a.error(e.data.message))}).catch(function(e){console.log(e),a.setState({spinning:!1}),E.a.error("Something Went Wrong")})},onCancel:function(){}})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.reload()}},{key:"reload",value:function(){var e=Object(K.a)(U.a.mark(function e(){var t=this;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({data:[],mounted:!1}),e.next=3,f.get("leave/own_pending",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(e){!0===e.data.success?t.setState({data:e.data.list.reverse()}):E.a.error(e.data.message)}).catch(function(e){E.a.error("Something went wrong"),console.log(e)});case 3:this.setState({mounted:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.leave,n=t.spinning,l=[Object(P.a)({title:"Date of request",dataIndex:"requestDateTime"},this.getColumnSearchProps("requestDateTime")),Object(P.a)({title:"Leave Type",dataIndex:"type"},this.getColumnSearchProps("type")),{title:"Start Date",dataIndex:"startDate"},{title:"End Date",dataIndex:"endDate"},{title:"Number Of Days",dataIndex:"number_of_leave_days",align:"center"},{dataIndex:"",key:"z",width:"1%",render:function(t){return r.a.createElement(w.a,{type:"info-circle",onClick:e.showModal.bind(e,t)})}},{dataIndex:"",key:"y",width:"3%",render:function(t){return r.a.createElement(w.a,{type:"delete",onClick:e.showConfirm.bind(e,t),theme:"twoTone",twoToneColor:"#EE204D"})}}];return r.a.createElement("div",null,r.a.createElement(R.a,{tip:"Deleting...",spinning:n},this.state.mounted?r.a.createElement(y.a,{type:"inner",title:"Own Pending Leave Requests",hoverable:"true"},r.a.createElement(F.a,{rowKey:function(e){return e.id},columns:l,dataSource:this.state.data,pagination:{pageSize:10},size:"middle"})):r.a.createElement("div",{className:"example"},r.a.createElement(R.a,{size:"large"}))),0!==a.length?r.a.createElement(q.a,{title:"Full Leave Record",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleOk,footer:null},r.a.createElement(B.a,{message:"Your request is still pending",type:"info",style:{width:"460px"}}),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Date of Request: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.requestDateTime)),r.a.createElement(T.a,{span:12},"Leave Type: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.type))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Start Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.startDate)),r.a.createElement(T.a,{span:12},"Full/ Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.startHalf))),r.a.createElement("br",null),.5!==a.number_of_leave_days?r.a.createElement(z.a,{style:{paddingBottom:"20px"}},r.a.createElement(T.a,{span:12},"End Date: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.endDate)),r.a.createElement(T.a,{span:12},"Full/ Half: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.endHalf))):null,r.a.createElement(z.a,null,r.a.createElement(T.a,{span:12},"Number Of Days:",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.number_of_leave_days)),r.a.createElement(T.a,{span:12},"Duty Cover By: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"225px"}},a.duty))),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(T.a,{span:24},"Special Note: \xa0\xa0\xa0 \xa0\xa0\xa0",r.a.createElement(A.a,{color:"volcano",style:{width:"460px",whiteSpace:"normal"}},a.specialNotes)))):null)}}]),t}(n.Component),ft=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={},a.onSelect=function(e){},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"bg-img"},r.a.createElement("center",null,r.a.createElement("span",{style:{fontSize:"35px"}},"Page Not Found"),r.a.createElement("br",null),r.a.createElement("div",{class:"error-img"}),r.a.createElement(S.a,{key:"1",type:"primary",href:"/",icon:"home",size:"large"}," Home ")))}}]),t}(r.a.Component),Et=_.a.Content,yt=_.a.Footer,vt=_.a.Sider,bt=j.a.SubMenu,wt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onCollapse=function(e){a.setState({collapsed:e})},a.state={redirectToReferrer:null,collapsed:!1,confirmDirty:!1,user_name:null,user_role:null,user_des:null,user_department:null,user_image:null,spin:!0,defaultSelectedKeys:"1"},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;f.get("api/auth/correct",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?e.setState({redirectToReferrer:1,spin:!1}):(e.setState({redirectToReferrer:0}),E.a.error(t.data.message))}).catch(function(t){e.setState({redirectToReferrer:0})}),null!==localStorage.getItem("header")&&f.get("api/auth/info",{headers:{Authorization:"Bearer "+localStorage.getItem("header")}}).then(function(t){!0===t.data.success?(e.setState({user_name:t.data.employee.firstName+" "+t.data.employee.secondName,user_role:t.data.employee.role,user_des:t.data.employee.designation,user_department:t.data.employee.department,user_image:t.data.employee.image,spin:!1}),"Admin"===t.data.employee.role&&e.setState({defaultSelectedKeys:"2"})):E.a.error(t.data.message)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state,t=e.redirectToReferrer,a=e.user_name,n=e.user_role,l=e.user_des,o=e.user_department,s=e.user_image;return 0===t?r.a.createElement(p.a,{to:"/login"}):1===t?r.a.createElement(_.a,{style:{minHeight:"100vh"}},r.a.createElement(vt,{style:{overflow:"auto",height:"100vh",position:"fixed"},width:"235px"},r.a.createElement("div",{className:"logo"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(j.a,{theme:"dark",defaultSelectedKeys:[this.state.defaultSelectedKeys],mode:"inline"},"Admin"===n?r.a.createElement(j.a.Item,{key:"2"},r.a.createElement(d.b,{to:"/manage_employee"}),r.a.createElement(w.a,{type:"team"}),r.a.createElement("span",null,"Manage Employee")):r.a.createElement(j.a.Item,{key:"1"},r.a.createElement(d.b,{to:"/"}),r.a.createElement(w.a,{type:"home"}),r.a.createElement("span",null,"Home")),r.a.createElement(bt,{key:"sub1",title:r.a.createElement("span",null,r.a.createElement(w.a,{type:"export"}),r.a.createElement("span",null,"Leave"))},"Admin"!==n?r.a.createElement(j.a.Item,{key:"3"},r.a.createElement(d.b,{to:"/request_leave"}),r.a.createElement(w.a,{type:"paper-clip"}),r.a.createElement("span",null,"Request Leave")):null,"Admin"===n?r.a.createElement(j.a.Item,{key:"18"},r.a.createElement(d.b,{to:"/add_lieu"}),r.a.createElement(w.a,{type:"paper-clip"}),r.a.createElement("span",null,"Add Lieu")):r.a.createElement(j.a.Item,{key:"15"},r.a.createElement(d.b,{to:"/collect_lieu"}),r.a.createElement(w.a,{type:"paper-clip"}),r.a.createElement("span",null,"Collect Lieu")),"Admin"!==n?r.a.createElement(j.a.Item,{key:"17"},r.a.createElement(d.b,{to:"/own_pending"}),r.a.createElement(w.a,{type:"question-circle"}),r.a.createElement("span",null,"Own Pending Leaves")):null,"Admin"===n||"Supervisor"===n?r.a.createElement(j.a.Item,{key:"4"},r.a.createElement(d.b,{to:"/leave_history"}),r.a.createElement(w.a,{type:"file-search"}),r.a.createElement("span",null,"Review Leaves")):null,"Admin"===n||"Supervisor"===n?r.a.createElement(j.a.Item,{key:"5"},r.a.createElement(d.b,{to:"/pending_leaves"}),r.a.createElement(w.a,{type:"question-circle"}),r.a.createElement("span",null,"Pending Leaves")):null,"Admin"===n||"Supervisor"===n?r.a.createElement(j.a.Item,{key:"16"},r.a.createElement(d.b,{to:"/pending_lieu"}),r.a.createElement(w.a,{type:"question-circle"}),r.a.createElement("span",null,"Pending Lieu")):null,r.a.createElement(j.a.Item,{key:"14"},r.a.createElement("a",{href:"http://leaves.vizuamatix.com:5000/pdf/leave_policy",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(w.a,{type:"file-protect"}),r.a.createElement("span",null,"Leave Policy")))),"Admin"===n?r.a.createElement(j.a.Item,{key:"6"},r.a.createElement(d.b,{to:"/view_profile"}),r.a.createElement(w.a,{type:"team"}),r.a.createElement("span",null,"View Profiles")):null,"Admin"===n||"Supervisor"===n?r.a.createElement(j.a.Item,{key:"7"},r.a.createElement(d.b,{to:"/history"}),r.a.createElement(w.a,{type:"clock-circle"}),r.a.createElement("span",null,"History")):null,r.a.createElement(bt,{key:"sub2",title:r.a.createElement("span",null,r.a.createElement(w.a,{type:"setting"}),r.a.createElement("span",null,"Settings"))},"Admin"!==n?r.a.createElement(j.a.Item,{key:"8"},r.a.createElement(d.b,{to:"/contact_number"}),r.a.createElement(w.a,{type:"phone"}),r.a.createElement("span",null,"Contact Numbers")):null,r.a.createElement(j.a.Item,{key:"9"},r.a.createElement(d.b,{to:"/change_password"}),r.a.createElement(w.a,{type:"lock"}),r.a.createElement("span",null,"Change Password")),"Admin"===n?r.a.createElement(j.a.Item,{key:"11"},r.a.createElement(d.b,{to:"/leave_calender"}),r.a.createElement(w.a,{type:"calendar"}),r.a.createElement("span",null,"Leave Calendar")):null))),r.a.createElement(_.a,{style:{marginLeft:235}},r.a.createElement(_.a,{style:{position:"fixed",zIndex:1e3,width:"90%"}},r.a.createElement(Xe,{name:a,role:n,department:o,image:s,designation:l})),r.a.createElement(_.a,{style:{marginTop:"100px"}},r.a.createElement(R.a,{size:"large",spinning:this.state.spin}),r.a.createElement(Et,{style:{margin:"20px",paddingTop:"20PX"}},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:V}),r.a.createElement(p.b,{path:"/leave_history",component:G}),r.a.createElement(p.b,{path:"/history",component:Ae}),r.a.createElement(p.b,{path:"/dashboard",component:V}),r.a.createElement(p.b,{path:"/request_leave",component:se}),r.a.createElement(p.b,{path:"/pending_leaves",component:ue}),r.a.createElement(p.b,{path:"/manage_employee",component:De}),r.a.createElement(p.b,{path:"/change_password",component:Te}),r.a.createElement(p.b,{path:"/view_profile",component:_e}),r.a.createElement(p.b,{path:"/get_employee",component:Ze}),r.a.createElement(p.b,{path:"/leave_calender",component:Ye}),r.a.createElement(p.b,{path:"/contact_number",component:We}),r.a.createElement(p.b,{path:"/attendance",component:$e}),r.a.createElement(p.b,{path:"/one_attendance",component:at}),r.a.createElement(p.b,{path:"/add_lieu",component:ut}),r.a.createElement(p.b,{path:"/collect_lieu",component:ot}),r.a.createElement(p.b,{path:"/pending_lieu",component:pt}),r.a.createElement(p.b,{path:"/own_pending",component:gt}),r.a.createElement(p.b,{path:"/error404",component:ft}),r.a.createElement(p.b,{path:"*",render:function(){return r.a.createElement(p.a,{to:"/error404"})}}))),r.a.createElement(yt,{style:{textAlign:"center",height:"0px"}},"VX HRMS(V1.0.2) \xa9 Powered By VizuaMatix ")))):null}}]),t}(r.a.Component),St=v.a.create()(wt),Ct=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App",style:{height:"100%"}},r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/login",component:x}),r.a.createElement(p.b,{path:"/forgot",component:k}),r.a.createElement(p.b,{path:"/first_login",component:O}),r.a.createElement(p.b,{path:"/",component:St}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ct,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},90:function(e,t,a){}},[[278,2,1]]]);
//# sourceMappingURL=main.491afa21.chunk.js.map