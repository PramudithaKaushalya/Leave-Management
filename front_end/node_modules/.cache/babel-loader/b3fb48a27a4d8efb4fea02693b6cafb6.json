{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Pramuditha Kaushalya\\\\Desktop\\\\VX Leave\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Pramuditha Kaushalya\\\\Desktop\\\\VX Leave\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Pramuditha Kaushalya\\\\Desktop\\\\VX Leave\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Pramuditha Kaushalya\\\\Desktop\\\\VX Leave\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Pramuditha Kaushalya\\\\Desktop\\\\VX Leave\\\\front_end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Pramuditha Kaushalya\\\\Desktop\\\\VX Leave\\\\front_end\\\\src\\\\container\\\\Dashboard.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport 'antd/dist/antd.css';\nimport { Form, Card, Descriptions, Table, Modal, Button, Rate, Tag, Row, Col } from 'antd';\nimport swal from 'sweetalert';\n\nfunction info(leave) {\n  Modal.info({\n    title: 'Fully Leave Record',\n    content: React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11\n      },\n      __self: this\n    }),\n    onOk: function onOk() {}\n  });\n}\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dashboard, _Component);\n\n  function Dashboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Dashboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: [],\n      count: []\n    };\n\n    _this.showDrawer = function (id) {\n      _this.setState({\n        visible: true,\n        id: id\n      });\n\n      axios.get('http://localhost:5000/search/' + id).then(function (res) {\n        _this.setState({\n          name: res.data.name,\n          email: res.data.email,\n          contact: res.data.contact,\n          salary: res.data.salary\n        });\n\n        console.log(\"aaaaaaaa\", res.data);\n      }).catch(function (err) {\n        console.log(err);\n        swal(\"Oops!\", \"Something Went Wrong!!!\", \"error\");\n      });\n    };\n\n    _this.onClose = function () {\n      _this.setState({\n        visible: false\n      });\n    };\n\n    _this.handleUpdate = function (e) {\n      e.preventDefault();\n\n      _this.props.form.validateFieldsAndScroll(function (err, values) {\n        if (!err) {\n          var user = {\n            name: values.name || undefined,\n            email: values.email || undefined,\n            contact: values.contact || undefined,\n            salary: values.salary || undefined\n          };\n\n          if (user.name === _this.state.name && user.password === _this.state.password && user.salary === _this.state.salary && user.email === _this.state.email && user.contact === _this.state.contact) {\n            swal(\"Ohhh!\", \"Didn't change any field!!!\", \"warning\");\n          } else {\n            axios.put('http://localhost:5000/update/' + _this.state.id, user).then(function (res) {\n              console.log(\"res\", res.data);\n              swal(\"Yeah!\", \"User is updated!!!\", \"success\");\n\n              _this.onClose();\n\n              _this.props.history.push('/dashboard');\n            }).catch(function (e) {\n              console.log(\"error\", e);\n              swal(\"Oops!\", \"User not updated!!!\", \"error\");\n\n              _this.onClose();\n            });\n          }\n\n          console.log(\"state\", user);\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      this.setState({\n        data: [],\n        count: []\n      });\n      axios.get('http://localhost:5000/leave/find/' + 4, {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem(\"header\")\n        }\n      }).then(function (res) {\n        console.log(\"res\", res.data);\n\n        _this2.setState({\n          data: res.data.reverse()\n        });\n      });\n      axios.get('http://localhost:5000/leave_count/profile/4', {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem(\"header\")\n        }\n      }).then(function (res) {\n        console.log(\"res\", res.data);\n\n        _this2.setState({\n          count: res.data\n        });\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(id) {\n      var _this3 = this;\n\n      axios.get('http://localhost:5000/favorites/' + id).then(function (res) {\n        console.log(\"res\", res.data);\n\n        _this3.setState({\n          favorites: res.data,\n          user_name: res.data[0].user_name\n        });\n\n        console.log(_this3.state.user_name);\n      }).catch(function (e) {\n        var data = _this3.state.data;\n\n        for (var i = 0; i < data.length; i++) {\n          if (_this3.state.data[i].user_id === id) {\n            var user = _this3.state.data[i].name;\n\n            _this3.setState({\n              favorites: [],\n              user_name: user\n            });\n\n            swal(\"Oops!\", user + \" hasn't any favorites!!!\", \"warning\");\n          }\n        }\n      });\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(id, e) {\n      var _this4 = this;\n\n      e.preventDefault();\n      swal({\n        text: \"Wanna delete that user?\",\n        buttons: {\n          confirm: \"Delete\",\n          cancel: true\n        }\n      }).then(function (willSearch) {\n        if (willSearch) {\n          axios.get('http://localhost:5000/delete/' + id).then(function (res) {\n            swal(\"Yeah!\", res.data, \"success\");\n\n            _this4.props.history.push('/dashboard');\n          }).catch(function (err) {\n            swal(\"Oops!\", \"Something Went Wrong!!!\", \"error\");\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var columns = [{\n        title: 'Date of request',\n        dataIndex: 'formatDateTime'\n      }, {\n        title: 'Leave Type',\n        dataIndex: 'leave_type',\n        render: function render(type) {\n          return type.type;\n        }\n      }, {\n        title: 'Start Date',\n        dataIndex: 'start_date'\n      }, {\n        title: 'End Date',\n        dataIndex: 'end_date'\n      }, {\n        title: 'Number of days',\n        dataIndex: 'number_of_leave_days'\n      }, {\n        title: 'Status',\n        dataIndex: 'status'\n      }, {\n        dataIndex: '',\n        key: 'z',\n        width: '1%',\n        render: function render(emp) {\n          return React.createElement(Button, {\n            type: \"default\",\n            onClick: info.bind(_this5, emp),\n            shape: \"circle\",\n            icon: \"info\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 200\n            },\n            __self: this\n          });\n        }\n      }];\n      return React.createElement(\"div\", {\n        className: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(Card, {\n        hoverable: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(Tag, {\n        color: \"geekblue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"Casual\")), React.createElement(Col, {\n        span: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(Tag, {\n        color: \"geekblue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \"Medical\")), React.createElement(Col, {\n        span: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(Tag, {\n        color: \"geekblue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Annual\"))), React.createElement(Descriptions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(Descriptions.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(Rate, {\n        allowHalf: true,\n        defaultValue: this.state.count.casual,\n        count: 7,\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      })), React.createElement(Descriptions.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(Rate, {\n        allowHalf: true,\n        defaultValue: 3.1,\n        count: 7,\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      })), React.createElement(Descriptions.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(Rate, {\n        allowHalf: true,\n        defaultValue: 3.5,\n        count: 14,\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      })))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }), React.createElement(Card, {\n        hoverable: \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(Table, {\n        rowKey: function rowKey(record) {\n          return record.leave_id;\n        },\n        columns: columns,\n        dataSource: this.state.data,\n        pagination: {\n          pageSize: 7\n        },\n        size: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Dashboard;\n}(Component);\n\nvar Dash = Form.create({\n  name: \"dashboard\"\n})(Dashboard);\nexport default Dash;\n/* <Row gutter={16}>\r\n                <Col span={8}>    \r\n                <Progress type=\"circle\" percent={75} format={percent => `${percent} Days`}/>\r\n                <br/>\r\n                <span>Annual Leave</span>\r\n                </Col>\r\n                <Col span={8}>\r\n                <Progress type=\"circle\" percent={50} />\r\n                <br/>\r\n                <span>Casual Leave</span>\r\n                </Col>\r\n                <Col span={8}>\r\n                <Progress type=\"circle\" percent={100} />\r\n                <br/>\r\n                <span>Medical Leave</span>\r\n                </Col>\r\n                </Row> */","map":{"version":3,"sources":["C:\\Users\\Pramuditha Kaushalya\\Desktop\\VX Leave\\front_end\\src\\container\\Dashboard.js"],"names":["React","Component","axios","Form","Card","Descriptions","Table","Modal","Button","Rate","Tag","Row","Col","swal","info","leave","title","content","onOk","Dashboard","state","data","count","showDrawer","id","setState","visible","get","then","res","name","email","contact","salary","console","log","catch","err","onClose","handleUpdate","e","preventDefault","props","form","validateFieldsAndScroll","values","user","undefined","password","put","history","push","headers","Authorization","localStorage","getItem","reverse","favorites","user_name","i","length","user_id","text","buttons","confirm","cancel","willSearch","columns","dataIndex","render","type","key","width","emp","bind","casual","record","leave_id","pageSize","Dash","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport 'antd/dist/antd.css';\r\nimport { Form, Card, Descriptions, Table, Modal, Button, Rate, Tag, Row, Col } from 'antd';\r\nimport swal from 'sweetalert';\r\n\r\nfunction info(leave) {\r\n    Modal.info({\r\n      title: 'Fully Leave Record',\r\n      content: (\r\n        <div>\r\n         \r\n        </div>\r\n      ),\r\n      onOk() {},\r\n    });\r\n}\r\n\r\nclass Dashboard extends Component {\r\n    \r\n    componentWillMount(){\r\n        this.setState({\r\n            data : [],\r\n            count : []\r\n        })\r\n        axios.get('http://localhost:5000/leave/find/'+4, \r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + localStorage.getItem(\"header\")\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"res\", res.data);\r\n            this.setState({\r\n                data : (res.data).reverse()\r\n            })\r\n        }) \r\n\r\n        axios.get('http://localhost:5000/leave_count/profile/4', \r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + localStorage.getItem(\"header\")\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"res\", res.data);\r\n            this.setState({\r\n                count : res.data\r\n            })\r\n        }) \r\n    } \r\n\r\n    state = {\r\n        data : [],\r\n        count : [],\r\n    }\r\n   \r\n    showDrawer = (id) => {\r\n        this.setState({\r\n          visible: true,\r\n          id : id\r\n        });\r\n        axios.get('http://localhost:5000/search/'+id)\r\n        .then(res => {\r\n            this.setState({\r\n                name : res.data.name,\r\n                email: res.data.email,\r\n                contact: res.data.contact,\r\n                salary : res.data.salary\r\n            })\r\n            console.log(\"aaaaaaaa\",res.data)\r\n        }).catch( err => {\r\n            console.log(err)\r\n            swal(\"Oops!\",\"Something Went Wrong!!!\",\"error\");\r\n        }) \r\n      };\r\n    \r\n    onClose = () => {\r\n        this.setState({\r\n          visible: false\r\n        });\r\n    };\r\n\r\n    handleClick(id) {\r\n        axios.get('http://localhost:5000/favorites/'+id)\r\n        .then(res => {\r\n            console.log(\"res\", res.data);\r\n            this.setState({\r\n                favorites : res.data,\r\n                user_name : res.data[0].user_name\r\n            })\r\n            console.log(this.state.user_name);\r\n        }).catch(e => {\r\n            const data = this.state.data;\r\n            for(let i=0; i<data.length;i++){\r\n                if(this.state.data[i].user_id === id){\r\n                    let user = this.state.data[i].name;\r\n                    this.setState({\r\n                        favorites : [],\r\n                        user_name : user\r\n                    })\r\n                    swal(\"Oops!\",  user+\" hasn't any favorites!!!\", \"warning\" );\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    handleUpdate = (e) => {\r\n        e.preventDefault();\r\n        this.props.form.validateFieldsAndScroll((err, values) => {\r\n            if (!err) {\r\n                const user = {\r\n                    name: values.name || undefined,\r\n                    email: values.email || undefined,\r\n                    contact: values.contact || undefined,\r\n                    salary: values.salary || undefined\r\n                }\r\n\r\n                if(user.name === this.state.name && user.password === this.state.password && user.salary === this.state.salary && user.email === this.state.email && user.contact === this.state.contact){\r\n                    \r\n                    swal(\"Ohhh!\",\"Didn't change any field!!!\", \"warning\");\r\n                \r\n                }else{\r\n\r\n                    axios.put('http://localhost:5000/update/'+this.state.id, user)\r\n                    .then(res => {\r\n                        console.log(\"res\", res.data);\r\n                        swal(\"Yeah!\",\"User is updated!!!\",\"success\");\r\n                        this.onClose();\r\n                        this.props.history.push('/dashboard');\r\n                    }).catch(e=>{\r\n                        console.log(\"error\", e);\r\n                        swal(\"Oops!\",\"User not updated!!!\",\"error\");\r\n                        this.onClose();\r\n                    })\r\n                }\r\n                console.log(\"state\", user);\r\n            }\r\n        });\r\n    }\r\n\r\n    handleDelete(id,e) {\r\n        e.preventDefault();\r\n        \r\n        swal({\r\n            text: \"Wanna delete that user?\",\r\n            buttons: {\r\n                confirm: \"Delete\",\r\n                cancel: true,\r\n            }\r\n        })\r\n        .then(willSearch => {\r\n            if (willSearch) {\r\n                axios.get('http://localhost:5000/delete/'+id)\r\n                .then(res => {\r\n                    swal(\"Yeah!\",res.data,\"success\"); \r\n                    this.props.history.push('/dashboard'); \r\n                }).catch( err => {\r\n                    swal(\"Oops!\",\"Something Went Wrong!!!\",\"error\");\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const columns = [ \r\n            \r\n            {\r\n                title: 'Date of request',\r\n                dataIndex: 'formatDateTime',\r\n            },\r\n            {\r\n              title: 'Leave Type',\r\n              dataIndex: 'leave_type',\r\n              render: type => (\r\n               type.type\r\n              )\r\n            },\r\n            {\r\n                title: 'Start Date',\r\n                dataIndex: 'start_date'\r\n            },\r\n            {\r\n                title: 'End Date',\r\n                dataIndex: 'end_date'\r\n            },\r\n            {\r\n                title: 'Number of days',\r\n                dataIndex: 'number_of_leave_days'\r\n            },\r\n            {\r\n                title: 'Status',\r\n                dataIndex: 'status',\r\n            },\r\n            {\r\n              dataIndex: '',\r\n              key: 'z',\r\n              width: '1%',\r\n              render: (emp) => <Button type=\"default\" onClick={info.bind(this, emp)} shape=\"circle\" icon=\"info\" />,\r\n            }\r\n        ];\r\n        return (\r\n            <div className='center'>\r\n                <Card hoverable='true'>\r\n                <Row>\r\n                    <Col span={8}><Tag color=\"geekblue\">Casual</Tag></Col>\r\n                    <Col span={8}><Tag color=\"geekblue\">Medical</Tag></Col>\r\n                    <Col span={8}><Tag color=\"geekblue\">Annual</Tag></Col>\r\n                </Row>\r\n                \r\n                    <Descriptions>\r\n                        <Descriptions.Item><Rate allowHalf defaultValue={this.state.count.casual} count={7} disabled={true}/></Descriptions.Item>\r\n                        <Descriptions.Item><Rate allowHalf defaultValue={3.1} count={7} disabled={true}/></Descriptions.Item>\r\n                        <Descriptions.Item><Rate allowHalf defaultValue={3.5} count={14} disabled={true}/></Descriptions.Item>\r\n                    </Descriptions>\r\n                </Card>\r\n                <br/>\r\n\r\n                <Card hoverable='true' >\r\n                    <Table rowKey={record => record.leave_id} columns={columns} dataSource={this.state.data}  pagination={{ pageSize: 7 }} size=\"middle\" />\r\n                </Card>\r\n              \r\n            </div>\r\n        )\r\n    }\r\n}    \r\n\r\nconst Dash = Form.create({name: \"dashboard\"})(Dashboard);\r\n\r\nexport default Dash;\r\n\r\n/* <Row gutter={16}>\r\n                <Col span={8}>    \r\n                <Progress type=\"circle\" percent={75} format={percent => `${percent} Days`}/>\r\n                <br/>\r\n                <span>Annual Leave</span>\r\n                </Col>\r\n                <Col span={8}>\r\n                <Progress type=\"circle\" percent={50} />\r\n                <br/>\r\n                <span>Casual Leave</span>\r\n                </Col>\r\n                <Col span={8}>\r\n                <Progress type=\"circle\" percent={100} />\r\n                <br/>\r\n                <span>Medical Leave</span>\r\n                </Col>\r\n                </Row> */"]},"metadata":{},"sourceType":"module"}